{"version":3,"sources":["webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/search.js","webpack:///./src/components/blockstackProfile.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/app/services/blockstack.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","StaticQueryContext","React","createContext","StaticQueryDataRenderer","_ref","staticQueryData","data","query","render","finalData","createElement","Fragment","props","children","Consumer","propTypes","PropTypes","object","string","isRequired","func","Search","_this","_Component","call","this","getOrCreateIndex","index","Index","load","searchIndex","search","evt","target","value","setState","results","expand","map","ref","documentStore","getDoc","state","react_default","type","onChange","placeholder","List","page","ListItem","key","id","Typography","gatsby_browser_entry","to","appcoid","style","color","fontWeight","textDecoration","name","category","description","Component","BlockstackProfile","isSignedIn","isLoading","componentDidMount","_this2","checkIsSignedIn","then","signedIn","userData","getUser","signIn","redirectToSignIn","avatars","avatar","_this3","_this$state","profile","image","filter","i","length","contentUrl","Avatar","alt","username","src","cursor","marginBottom","onClick","navigateTo","AccountBox_default","dist","variant","Header","siteTitle","siteDescription","siteSearchIndex","Container","background","paddingTop","Grid","container","item","sm","xs","search_Search","blockstackProfile","defaultProps","Layout","header","site","siteMetadata","title","margin","maxWidth","padding","fontSize","Date","getFullYear","href","_2239313339","node","appConfig","AppConfig","window","location","origin","uSession","UserSession","configure","apiServer","process","userSession","isBrowser","getConfig","isUserSignedIn","loadUserData","handleLogin","callback","console","log","isSignInPending","handlePendingSignIn","User","createWithCurrentUser","Promise","resolve","user","logout","GroupMembership","clearStorage","signUserOut","encryptContent","message","loadMyData","getFile","content","JSON","parse","loadAppData","identifier","saveMyData","putFile","stringify","postUserUpdate","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","visibility","userComment","wrap","_context","prev","next","save","savePrivately","Error","abrupt","stop","_x","_x2","apply","arguments","m","module","exports","require","default","ProdPageRenderer","pageResources","InternalPageRenderer","Object","assign","json","shape","pathname"],"mappings":"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","file":"2-ef83a391f91ec12f8990.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React, { Component } from 'react'\nimport { Index } from 'elasticlunr'\nimport { Link } from 'gatsby'\nimport { List, ListItem, Typography } from '@material-ui/core'\n\n// Search component\nexport default class Search extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: ``,\n      results: [],\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <input\n          type=\"text\"\n          value={this.state.query}\n          onChange={this.search}\n          placeholder=\"Search apps by name, ..\"\n        />\n        <List>\n          {this.state.results.map(page => (\n            <ListItem key={page.id}>\n              <Typography>\n                <Link\n                  to={'/appco/' + page.appcoid}\n                  style={{\n                    color: `white`,\n                    fontWeight: 'bold',\n                    textDecoration: `none`,\n                  }}\n                >\n                  {page.name}\n                </Link>\n                {': ' + page.category} {' : ' + page.description}\n              </Typography>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    )\n  }\n  getOrCreateIndex = () =>\n    this.index\n      ? this.index\n      : // Create an elastic lunr index and hydrate with graphql query results\n        Index.load(this.props.searchIndex)\n\n  search = evt => {\n    const query = evt.target.value\n    this.index = this.getOrCreateIndex()\n    this.setState({\n      query,\n      // Query the index with search string to get an [] of IDs\n      results: this.index\n        .search(query, { expand: true })\n        // Map over each ID and return the full document\n        .map(({ ref }) => this.index.documentStore.getDoc(ref)),\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  isSignedIn,\n  getUser,\n  handleLogin,\n  redirectToSignIn,\n  checkIsSignedIn,\n} from '../app/services/blockstack'\nimport { Avatar } from '@material-ui/core'\nimport AccountIcon from '@material-ui/icons/AccountBox'\nimport { BlockstackButton } from 'react-blockstack-button'\nimport { navigateTo } from 'gatsby'\n\nclass BlockstackProfile extends Component {\n  state = {\n    isSignedIn: false,\n    isLoading: true,\n  }\n\n  componentDidMount() {\n    checkIsSignedIn().then(signedIn => {\n      this.setState({ isSignedIn: signedIn, userData: getUser() })\n    })\n  }\n\n  signIn() {\n    redirectToSignIn()\n  }\n\n  render() {\n    const { isSignedIn, userData } = this.state\n    if (isSignedIn) {\n      let avatars, avatar\n      if (userData.profile && userData.profile.image) {\n        avatars = userData.profile.image.filter(i => i.name === 'avatar')\n      }\n      if (avatars && avatars.length > 0) {\n        avatar = avatars[0].contentUrl\n      }\n      if (avatar) {\n        return (\n          <Avatar\n            alt={userData.username}\n            src={avatar}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n            onClick={() => navigateTo('data')}\n          />\n        )\n      } else {\n        return (\n          <Avatar\n            onClick={() => navigateTo('data')}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n          >\n            <AccountIcon />\n          </Avatar>\n        )\n      }\n    } else {\n      return <BlockstackButton variant=\"light\" onClick={() => this.signIn()} />\n    }\n  }\n}\n\nexport default BlockstackProfile\n","import { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Search from './search'\nimport BlockstackProfile from './blockstackProfile'\nimport { Container, Typography, Grid } from '@material-ui/core'\n\nconst Header = ({ siteTitle, siteDescription, siteSearchIndex }) => (\n  <Container\n    style={{\n      background: '#3f51b5',\n      paddingTop: 1.45 + `rem`,\n      color: 'white',\n    }}\n  >\n    <Grid container>\n      <Grid item sm={8} xs={12}>\n        <Typography variant=\"h3\">\n          <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n            {siteTitle}\n          </Link>\n        </Typography>\n        <Typography variant=\"body2\">{siteDescription}</Typography>\n        <Search searchIndex={siteSearchIndex.index} />\n      </Grid>\n      <Grid item sm={4} xs={12}>\n        <BlockstackProfile />\n      </Grid>\n    </Grid>\n  </Container>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n  siteDescription: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport './layout.css'\nimport { Typography } from '@material-ui/core';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteHeaderQuery {\n        site {\n          siteMetadata {\n            title\n            description\n          }\n        }\n        siteSearchIndex {\n          index\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header\n          siteTitle={data.site.siteMetadata.title}\n          siteDescription={data.site.siteMetadata.description}\n          siteSearchIndex={data.siteSearchIndex}\n        />\n        <div\n          style={{\n            margin: `0 auto`,\n            maxWidth: 960,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n          }}\n        >\n          {children}\n          <footer>\n            <Typography variant=\"body2\" style={{fontSize:\"small\"}} >\n            Â© {new Date().getFullYear()}, Built with\n            {` `}\n            <a href=\"https://www.gatsbyjs.org\">Gatsby</a> and{' '}\n            <a href=\"https://blockstack.org\">Blockstack</a>. You can{' '}\n            <a href=\"https://gitlab.com/friedger/app-center\">\n              view the source here\n            </a>\n            </Typography>\n          </footer>\n        </div>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import { UserSession, AppConfig } from 'blockstack'\nimport { configure, getConfig, User, GroupMembership } from 'radiks'\n\n// helpful for debugging\nconst logAuth = process.env.NODE_ENV === 'development' && true // set to true to turn on logging\nconst clog = (...args) => logAuth && console.log(...args)\n// helpful for debugging\n\nconst appConfig = new AppConfig(\n  ['store_write'],\n  typeof window !== 'undefined'\n    ? window.location.origin\n    : 'http://localhost:8000',\n  '/data',\n  '/manifest.webmanifest'\n)\nconst uSession = new UserSession({ appConfig })\n\nconfigure({\n  apiServer: process.env.GATSBY_RADIKS_SERVER || 'http://localhost:1260',\n  userSession: uSession,\n})\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport const getUser = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n    ? userSession.loadUserData()\n    : {}\n}\n\nexport const isSignedIn = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n}\n\nexport const handleLogin = callback => {\n  const { userSession } = getConfig()\n  console.log('handleLogin')\n  clog('isLoggedIn check', userSession.isUserSignedIn())\n  if (userSession.isUserSignedIn()) {\n    clog('logged in')\n    callback(getUser())\n  } else if (userSession.isSignInPending()) {\n    userSession.handlePendingSignIn().then(userData => {\n      User.createWithCurrentUser().then(() => {\n        console.log('user created')\n        callback(userData)\n      })\n    })\n  } else {\n    userSession.redirectToSignIn()\n  }\n}\n\nexport const redirectToSignIn = () => {\n  const { userSession } = getConfig()\n  userSession.redirectToSignIn()\n}\n\nexport const checkIsSignedIn = () => {\n  if (!isBrowser()) {\n    clog('Not a browser')\n    return Promise.resolve(false)\n  }\n  const { userSession } = getConfig()\n  if (userSession.isSignInPending()) {\n    return userSession.handlePendingSignIn().then(() => true)\n  } else if (userSession.isUserSignedIn()) {\n    const user = userSession.loadUserData()\n    clog('isLoggedIn check', { user })\n    return Promise.resolve(!!user)\n  } else {\n    clog('isLoggedIn check - nothing')\n    return Promise.resolve(false)\n  }\n}\n\nexport const logout = callback => {\n  const { userSession } = getConfig()\n  GroupMembership.clearStorage()\n  userSession.signUserOut('/data/login')\n  callback()\n}\n\nexport const encryptContent = message => {\n  const { userSession } = getConfig()\n  console.log('encrypting ' + message)\n  return userSession.encryptContent(message)\n}\n\nexport const loadMyData = () => {\n  const { userSession } = getConfig()\n  return userSession.getFile('content').then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveAppData = (identifier, content) => {\n  const { userSession } = getConfig()\n  return userSession.putFile(`apps/${identifier}`, JSON.stringify(content))\n}\n\nexport const loadAppData = identifier => {\n  const { userSession } = getConfig()\n  return userSession.getFile(`apps/${identifier}`).then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveMyData = content => {\n  const { userSession } = getConfig()\n  return userSession.putFile('content', JSON.stringify(content))\n}\n\nexport const postUserUpdate = async (visibility, userComment) => {\n  if (visibility === 'public') {\n    await userComment.save()\n  } else if (visibility === 'private') {\n    await userComment.savePrivately()\n  } else if (visibility === 'devs') {\n    throw new Error('not yet implemented')\n  }\n\n  return null\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}