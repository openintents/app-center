{"version":3,"sources":["webpack:///./src/app/components/NavBar.js","webpack:///./src/app/components/AppSelector.js","webpack:///./src/app/myapps.js","webpack:///./src/app/main.js","webpack:///./src/app/components/PrivateRoute.js","webpack:///./src/app/login.js","webpack:///./src/app/mycomments.js","webpack:///./src/app/app.js","webpack:///./src/pages/data.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/search.js","webpack:///./src/components/blockstackProfile.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/app/services/blockstack.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/model.js"],"names":["NavBar","state","checking","signedIn","componentDidMount","checkIsSignedIn","then","_this","setState","render","content","message","login","_this$state","this","user","getUser","name","profile","username","decentralizedId","react_default","a","createElement","style","display","flex","justifyContent","borderBottom","backgroundColor","Typography","component","gatsby_browser_entry","to","href","onClick","event","preventDefault","logout","navigate","React","Component","StyledRoot","styled","div","withConfig","displayName","componentId","AppSelector","_ref","myApps","onSubmitApps","console","log","data","_3630975111","Fragment","formik_esm","initialValues","validate","values","onSubmit","_ref3","setSubmitting","finally","_ref2","i","app","handleChange","errors","touched","handleBlur","handleSubmit","isSubmitting","apps","allApps","edges","node","push","key","type","onChange","onBlur","checked","appcoid","id","htmlFor","Button","variant","disabled","MyApps","loading","_this2","loadMyData","saveMyApps","saveMyData","_this3","components_AppSelector","Main","myComments","myUpdates","loadingApps","loadingComments","loadingUpdates","UserComment","fetchOwnList","OwnerComment","handleClick","encryptedMessage","encryptContent","target","value","renderApps","Object","keys","forEach","appEditLink","substr","filter","edge","toString","ListItem","ListItemText","primary","List","renderComments","comments","length","c","e","website","attrs","object","_id","comment","secondary","renderUpdates","updates","String","query","_230829525","PrivateRoute","location","props","pathname","search","startsWith","_this$props","rest","objectWithoutPropertiesLoose_default","Login","handleLogin","Container","Link","Divider","light","MyComments","currentComment","showUpdateDialog","handleDeleteClick","item","destroy","secondaryText","button","ListItemSecondaryAction","IconButton","aria-label","Delete_default","_this4","Dialog","_3281459157","PublicRoute","children","App","layout","NavBar_NavBar","es","components_PrivateRoute","path","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","StaticQueryDataRenderer","staticQueryData","finalData","Consumer","propTypes","PropTypes","string","isRequired","func","Search","_Component","call","getOrCreateIndex","index","Index","load","searchIndex","evt","results","expand","map","ref","documentStore","getDoc","placeholder","page","appNodes","icon","localFile","childImageSharp","gatsby_image_default","fixed","width","height","color","fontWeight","textDecoration","Grid","container","xs","category","description","_1693737245","BlockstackProfile","isSignedIn","isLoading","userData","signIn","redirectToSignIn","avatars","avatar","image","contentUrl","Avatar","alt","src","cursor","marginBottom","navigateTo","AccountBox_default","dist","Header","siteTitle","siteDescription","siteSearchIndex","background","paddingTop","sm","search_Search","blockstackProfile","defaultProps","Layout","header","site","siteMetadata","title","margin","maxWidth","padding","fontSize","Date","getFullYear","_2239313339","appConfig","AppConfig","window","origin","uSession","UserSession","configure","apiServer","process","userSession","isBrowser","getConfig","isUserSignedIn","loadUserData","callback","isSignInPending","handlePendingSignIn","User","createWithCurrentUser","Promise","resolve","GroupMembership","clearStorage","signUserOut","getFile","JSON","parse","loadAppData","identifier","putFile","stringify","postUserUpdate","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","visibility","userComment","wrap","_context","prev","next","save","savePrivately","Error","abrupt","stop","_x","_x2","apply","arguments","m","module","exports","require","default","ProdPageRenderer","pageResources","InternalPageRenderer","assign","json","shape","ModelExt","reject","now","encrypted","beforeSave","getTime","createdAt","updatedAt","sign","sent","saveFile","t0","Model","_ModelExt","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_5___default","className","schema","decrypted","createdBy","_ModelExt2","verified","Boolean","defaults"],"mappings":"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","file":"component---src-pages-data-js-059881a117491dbd4690.js","sourcesContent":["import React from 'react'\nimport { Link, navigate } from 'gatsby'\nimport { getUser, checkIsSignedIn, logout } from '../services/blockstack'\nimport { Typography } from '@material-ui/core'\n\nexport default class NavBar extends React.Component {\n  state = { checking: true, signedIn: false }\n  componentDidMount = () => {\n    checkIsSignedIn().then(signedIn =>\n      this.setState({ checking: false, signedIn })\n    )\n  }\n\n  render() {\n    const content = { message: '', login: true }\n    const { checking, signedIn } = this.state\n    if (checking) {\n      content.message = 'stacking blocks...'\n    } else if (signedIn) {\n      const user = getUser()\n      let name = user.profile && user.profile.name\n      if (!name) {\n        name = user.username\n      }\n      if (!name) {\n        name = user.decentralizedId\n      }\n      content.message = `Hello, ${name} (${user.username})`\n    } else {\n      content.message = 'You are not logged in'\n    }\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flex: '1',\n          justifyContent: 'space-between',\n          borderBottom: '1px solid #d1c1e0',\n          backgroundColor: 'aliceblue',\n        }}\n      >\n        <Typography component=\"span\">{content.message}</Typography>\n\n        <nav>\n          <Typography>\n            <Link to=\"/data/\">Overview</Link>\n            {` `}\n            <Link to=\"/data/comments\">My Comments</Link>\n            {` `}\n            <Link to=\"/data/apps\">My Apps</Link>\n            {` `}\n            {signedIn ? (\n              <a\n                href=\"/\"\n                onClick={event => {\n                  event.preventDefault()\n                  logout(() => navigate(`/data/login`))\n                }}\n              >\n                Logout\n              </a>\n            ) : (\n              <Link to=\"/data/login\">Login</Link>\n            )}\n          </Typography>\n        </nav>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport { Formik } from 'formik'\nimport { Button } from '@material-ui/core';\n\nconst StyledRoot = styled.div`\n  flexgrow: 1;\n`\n\nconst AppSelector = ({myApps, onSubmitApps}) => {\n  console.log({myApps, onSubmitApps})\n  const data = useStaticQuery(graphql`\n    query AppsQuery {\n      allApps(sort: { fields: [name] }) {\n        edges {\n          node {\n            ...AppInformation\n          }\n        }\n      }\n    }\n  `)\n\n  const appSelectionForm = ({\n    values,\n    errors,\n    touched,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting,\n  }) => {\n    const apps = []\n    let i, app\n    for (i in data.allApps.edges) {\n      app = data.allApps.edges[i].node\n      apps.push(\n        <div key={i}>\n          <input\n            type=\"checkbox\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            checked={values[`app-${app.appcoid}`] || false}\n            id={app.appcoid}\n            name={`app-${app.appcoid}`}\n          />\n          <label htmlFor={app.appcoid}>{app.name}</label>\n        </div>\n      )\n    }\n\n    return (\n      <form onSubmit={handleSubmit}>\n        {apps}\n        <Button variant=\"outlined\" type=\"submit\" disabled={isSubmitting}>\n          Save\n        </Button>\n      </form>\n    )\n  }\n  return (\n    <>\n      <h1>Your app(s)</h1>\n      <StyledRoot>\n        <Formik\n          initialValues={myApps}\n          validate={values => {\n            let errors = {}\n            return errors\n          }}\n          onSubmit={(values, { setSubmitting }) => {\n            onSubmitApps(values).finally(()=> {\n              setSubmitting(false)\n            })\n          }}\n        >\n          {appSelectionForm}\n        </Formik>\n      </StyledRoot>\n      <hr />\n    </>\n  )\n}\n\nexport default AppSelector\n","import React from 'react'\nimport { saveMyData, loadMyData } from './services/blockstack'\nimport AppSelector from './components/AppSelector'\n\nclass MyApps extends React.Component {\n  state = {\n    myApps: {},\n    loading: true,\n  }\n\n  componentDidMount() {\n    loadMyData().then(content => {\n      this.setState({ myApps: content.myApps, loading: false })\n    })\n  }\n\n  saveMyApps(values) {\n    return saveMyData({ myApps: values })\n  }\n\n  render() {\n    const { myApps, loading } = this.state\n\n    return (\n      <>\n        {loading && <>Loading...</>}\n        {!loading && (\n          <AppSelector\n            myApps={myApps}\n            onSubmitApps={values => this.saveMyApps(values)}\n          />\n        )}\n      </>\n    )\n  }\n}\n\nexport default MyApps\n","import React from 'react'\nimport { graphql, Link, StaticQuery } from 'gatsby'\nimport { encryptContent, loadMyData } from './services/blockstack'\nimport { UserComment, OwnerComment } from '../components/model'\nimport { Typography, ListItem, ListItemText, List } from '@material-ui/core'\n\nclass Main extends React.Component {\n  state = {\n    myApps: {},\n    myComments: [],\n    myUpdates: [],\n    loadingApps: true,\n    loadingComments: true,\n    loadingUpdates: true,\n    loading: true,\n  }\n\n  componentDidMount() {\n    loadMyData().then(content => {\n      this.setState({\n        myApps: content.myApps,\n        loadingApps: false,\n        loading: this.state.loadingComments && this.state.loadingUpdates,\n      })\n    })\n    UserComment.fetchOwnList().then(myComments => {\n      this.setState({\n        myComments,\n        loadingComments: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n    OwnerComment.fetchOwnList().then(myUpdates => {\n      this.setState({\n        myUpdates,\n        loadingUpdates: false,\n        loading: this.state.loadingApps && this.state.loadingComments,\n      })\n    })\n  }\n\n  handleClick(event) {\n    const encryptedMessage = encryptContent(this.state.message)\n    this.setState({ encryptedMessage })\n  }\n\n  handleChange(event) {\n    this.setState({ message: event.target.value })\n  }\n\n  renderApps(myApps, data) {\n    const apps = []\n    if (myApps) {\n      Object.keys(myApps).forEach(key => {\n        if (myApps[key]) {\n          const appEditLink = `/appco/${key.substr(4)}`\n          const app = data.allApps.edges.filter(edge => {\n            return edge.node.appcoid.toString() === key.substr(4)\n          })[0].node\n          apps.push(\n            <ListItem key={app.appcoid}>\n              <ListItemText\n                primary={\n                  <>\n                    <Link to={appEditLink}>{app.name}</Link>\n                  </>\n                }\n              />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      apps.push(\n        <ListItem key=\"empty\">\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/data/apps\">Add your apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{apps}</List>\n  }\n\n  renderComments(myComments, data) {\n    const comments = []\n\n    if (myComments && myComments.length > 0) {\n      myComments.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        if (apps.length === 1) {\n          comments.push(\n            <ListItem key={c._id}>\n              <ListItemText\n                primary={<>{c.attrs.comment}</>}\n                secondary={<>For {apps[0].node.name}</>}\n              />\n            </ListItem>\n          )\n        } else {\n          comments.push(\n            <ListItem key={c._id}>\n              <ListItemText primary={<>{c.attrs.comment}</>} />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      comments.push(\n        <ListItem key=\"empty\">\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/appco-foss\">Add comments to a few apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{comments}</List>\n  }\n\n  renderUpdates(myUpdates, data) {\n    const updates = []\n    if (myUpdates) {\n      console.log(myUpdates)\n      myUpdates.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        let comment\n        if (\n          typeof c.attrs.comment === 'string' ||\n          c.attrs.comment instanceof String\n        ) {\n          comment = c.attrs.comment\n        } else {\n          comment = '** Decryption failed. **'\n        }\n        if (apps.length === 1) {\n          updates.push(\n            <ListItem key={c._id}>\n              <ListItemText\n                primary={<>{comment}</>}\n                secondary={<>For {apps[0].node.name}</>}\n              />\n            </ListItem>\n          )\n        } else {\n          updates.push(\n            <ListItem key={c._id}>\n              <ListItemText primary={<>{comment}</>} />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      updates.push(\n        <ListItem>\n          <ListItemText primary=\"Add updates to your apps\" />\n        </ListItem>\n      )\n    }\n    return <List>{updates}</List>\n  }\n\n  render() {\n    const { myApps, myComments, myUpdates } = this.state\n\n    return (\n      <StaticQuery\n        query={graphql`\n          query MainAppsQuery {\n            allApps(sort: { fields: [name] }) {\n              edges {\n                node {\n                  ...AppInformation\n                }\n              }\n            }\n          }\n        `}\n        render={data => (\n          <>\n            <Typography variant=\"h3\">Overview</Typography>\n            <Typography variant=\"h4\">Your Comments</Typography>\n            {this.renderComments(myComments, data)}\n            <Typography variant=\"h4\">Your Apps</Typography>\n            {this.renderApps(myApps, data)}\n            <Typography variant=\"h4\">Your App Updates</Typography>\n            {this.renderUpdates(myUpdates, data)}\n          </>\n        )}\n      />\n    )\n  }\n}\n\nexport default Main\n","import React from 'react'\nimport { checkIsSignedIn } from '../services/blockstack'\nimport { navigate } from 'gatsby'\n\nclass PrivateRoute extends React.Component {\n  state = {checking:true, signedIn:false}\n\n  componentDidMount = () => {\n    const { location } = this.props\n    checkIsSignedIn().then(signedIn => {\n      if (location.pathname !== `/data/login`) {\n        if (!signedIn) {\n          // If the user is not logged in, redirect to the login page.\n          navigate(`/data/login`)\n          return null\n        } else {\n          if (location.search && location.search.startsWith(\"?authResponse=\")) {\n            navigate(`/data`)\n          }\n        }\n      }\n      this.setState({checking:false, signedIn})\n    })\n  }\n\n  render() {\n    const { component: Component, location, ...rest } = this.props\n    const {checking, signedIn} = this.state\n    if (checking) {\n      return <>...</>\n    } else {\n      return signedIn ? <Component {...rest} /> : null\n    }\n  }\n}\n\nexport default PrivateRoute\n","import React from 'react'\nimport { navigate } from 'gatsby'\nimport { handleLogin } from './services/blockstack'\nimport { Button, Typography, Link, Container, Divider } from '@material-ui/core'\n\nclass Login extends React.Component {\n  componentDidMount() {\n    const location = this.props\n    if (\n      location &&\n      location.location &&\n      !!location.location.search &&\n      location.location.search.startsWith('?authResponse=')\n    ) {\n      navigate(`/data`)\n    }\n  }\n\n  handleSubmit = () => handleLogin(user => navigate(`/data`))\n  render() {\n    return (\n      <>\n        <Container>\n          <Typography variant=\"h3\">Log in</Typography>\n          <Typography variant=\"body1\">What is Blockstack?</Typography>\n          <Typography variant=\"body2\">\n            Blockstack is a new approach to the internet that let you own your\n            data and maintain your privacy, security and freedom. Find out more\n            at{' '}\n            <Link href=\"https://docs.blockstack.org/\">\n              Blockstack's documentation\n            </Link>\n            .\n          </Typography>\n          <Divider light />\n          <Typography variant=\"body1\">\n            Why not login with Facebook or Google? Or my email?\n          </Typography>\n          <Typography variant=\"body2\">\n            Most social media companies are providing you with a free account so\n            that they can sell your information to the highest bidder.\n            Blockstack is different. With Blockstack, YOU control your identity.\n            Neither Blockstack nor the makers of Blockstack apps can take the id\n            from you or have access to it.\n          </Typography>\n        </Container>\n        <Button variant=\"outlined\" onClick={this.handleSubmit}>\n          log in\n        </Button>\n      </>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react'\nimport { graphql, Link, StaticQuery } from 'gatsby'\nimport { loadMyData } from './services/blockstack'\nimport {\n  Typography,\n  ListItem,\n  ListItemText,\n  List,\n  Divider,\n  ListItemSecondaryAction,\n  IconButton,\n  Dialog,\n} from '@material-ui/core'\nimport { UserComment, OwnerComment } from '../components/model'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nclass MyComments extends React.Component {\n  state = {\n    myApps: {},\n    myComments: [],\n    myUpdates: [],\n    loading: true,\n    loadingApps: true,\n    loadingComments: true,\n    loadingUpdates: true,\n  }\n\n  componentDidMount() {\n    loadMyData().then(content => {\n      this.setState({\n        myApps: content.myApps,\n        loadingApps: false,\n        loading: this.state.loadingComments && this.state.loadingUpdates,\n      })\n    })\n\n    UserComment.fetchOwnList().then(myComments => {\n      this.setState({\n        myComments,\n        loadingComments: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n    OwnerComment.fetchOwnList().then(myUpdates => {\n      this.setState({\n        myUpdates,\n        loadingUpdates: false,\n        loading: this.state.loadingApps && this.state.loadingComments,\n      })\n    })\n  }\n\n  handleClick(comment) {\n    this.setState({ currentComment: comment, showUpdateDialog: true })\n  }\n\n  handleDeleteClick(comment) {\n    const myComments = this.state.myComments.filter(item => item !== comment)\n    comment.destroy()\n    this.setState({ myComments })\n  }\n\n  renderComments(myComments, data) {\n    const comments = []\n    if (myComments) {\n      myComments.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        const secondaryText =\n          apps.length === 1 ? <>For {apps[0].node.name}</> : null\n        comments.push(\n          <ListItem button key={c._id} onClick={() => this.handleClick(c)}>\n            <ListItemText\n              primary={<>{c.attrs.comment}</>}\n              secondary={secondaryText}\n            />\n            <ListItemSecondaryAction onClick={() => this.handleDeleteClick(c)}>\n              <IconButton aria-label=\"Delete\">\n                <DeleteIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        )\n      })\n    } else {\n      comments.push(\n        <ListItem>\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/appco-foss\">Add comments to a few apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{comments}</List>\n  }\n\n  render() {\n    const { myComments, myUpdates, loading } = this.state\n\n    return (\n      <StaticQuery\n        query={graphql`\n          query MyCommentsQuery {\n            allApps(sort: { fields: [name] }) {\n              edges {\n                node {\n                  ...AppInformation\n                }\n              }\n            }\n          }\n        `}\n        render={data => (\n          <>\n            {loading && <>Loading...</>}\n            {!loading && (\n              <>\n                <Typography variant=\"h3\">Comments</Typography>\n                {this.renderComments(myComments, data)}\n                <Divider light />\n                {this.renderComments(myUpdates, data)}\n              </>\n            )}\n            <Dialog />\n          </>\n        )}\n      />\n    )\n  }\n}\n\nexport default MyComments\n","import React from 'react'\nimport { Router } from '@reach/router'\nimport Layout from '../components/layout'\nimport NavBar from './components/NavBar'\nimport MyApps from './myapps'\nimport Main from './main'\nimport PrivateRoute from './components/PrivateRoute'\nimport Login from './login'\nimport MyComments from './mycomments';\n\nconst App = () => {\n  return (\n    <Layout>\n      <NavBar />\n      <Router>\n        <PrivateRoute path=\"/data/apps\" component={MyApps} />\n        <PrivateRoute path=\"/data/comments\" component={MyComments} />\n        <PublicRoute path=\"/data\">\n          <PrivateRoute path=\"/\" component={Main} />\n          <Login path=\"/login\" />\n        </PublicRoute>\n      </Router>\n    </Layout>\n  )\n}\nfunction PublicRoute(props) {\n  return <div>{props.children}</div>\n}\n\nexport default App\n","import App from '../app/app'\n\nexport default App\n\n// `src/app` is not \"special\", it is re-exported by `src/pages/app.js`\n// and contains all the clientside dynamic App pages that we dont want to be statically generated.\n// `src/pages/app.js` skips the static generation process because of `gatsby-plugin-create-client-paths`\n// configured in `gatsby-config.js`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React, { Component } from 'react'\nimport { Index } from 'elasticlunr'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport { List, ListItem, Typography, Grid } from '@material-ui/core'\nimport Img from 'gatsby-image'\n// Search component\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: ``,\n      results: [],\n    }\n  }\n\n  render() {\n    return (\n      <StaticQuery\n        query={graphql`\n          query SearchQuery {\n            allApps {\n              edges {\n                node {\n                  appcoid: id__normalized\n                  localFile {\n                    id\n                    childImageSharp {\n                      fixed(width: 24, height: 24) {\n                        ...GatsbyImageSharpFixed\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => {\n          return (\n            <div>\n              <input\n                type=\"text\"\n                value={this.state.query}\n                onChange={this.search}\n                placeholder=\"Search apps by name, ..\"\n              />\n              <List>\n                {this.state.results.map(page => {\n                  const appNodes = data.allApps.edges.filter(\n                    e => e.node.appcoid === page.appcoid\n                  )\n                  const icon =\n                    appNodes.length > 0 &&\n                    appNodes[0].node.localFile &&\n                    appNodes[0].node.localFile.childImageSharp ? (\n                      <Img\n                        fixed={appNodes[0].node.localFile.childImageSharp.fixed}\n                      />\n                    ) : (\n                      <div width=\"24px\" height=\"24px\" />\n                    )\n                  return (\n                    <ListItem key={page.id}>\n                      <Link\n                        to={'/appco/' + page.appcoid}\n                        style={{\n                          color: `white`,\n                          fontWeight: 'bold',\n                          textDecoration: `none`,\n                        }}\n                      >\n                        <Grid container>\n                          <Grid item xs={1}>\n                            {icon}\n                          </Grid>\n                          <Grid item xs={11}>\n                            <Typography>\n                              <b>{page.name}</b>\n                              {': ' + page.category} {' : ' + page.description}\n                            </Typography>\n                          </Grid>\n                        </Grid>\n                      </Link>\n                    </ListItem>\n                  )\n                })}\n              </List>\n            </div>\n          )\n        }}\n      />\n    )\n  }\n  getOrCreateIndex = () =>\n    this.index\n      ? this.index\n      : // Create an elastic lunr index and hydrate with graphql query results\n        Index.load(this.props.searchIndex)\n\n  search = evt => {\n    const query = evt.target.value\n    this.index = this.getOrCreateIndex()\n    this.setState({\n      query,\n      // Query the index with search string to get an [] of IDs\n      results: this.index\n        .search(query, { expand: true })\n        // Map over each ID and return the full document\n        .map(({ ref }) => this.index.documentStore.getDoc(ref)),\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  getUser,\n  redirectToSignIn,\n  checkIsSignedIn,\n} from '../app/services/blockstack'\nimport { Avatar } from '@material-ui/core'\nimport AccountIcon from '@material-ui/icons/AccountBox'\nimport { BlockstackButton } from 'react-blockstack-button'\nimport { navigateTo } from 'gatsby'\n\nclass BlockstackProfile extends Component {\n  state = {\n    isSignedIn: false,\n    isLoading: true,\n  }\n\n  componentDidMount() {\n    checkIsSignedIn().then(signedIn => {\n      this.setState({ isSignedIn: signedIn, userData: getUser() })\n    })\n  }\n\n  signIn() {\n    redirectToSignIn()\n  }\n\n  render() {\n    const { isSignedIn, userData } = this.state\n    if (isSignedIn) {\n      let avatars, avatar\n      if (userData.profile && userData.profile.image) {\n        avatars = userData.profile.image.filter(i => i.name === 'avatar')\n      }\n      if (avatars && avatars.length > 0) {\n        avatar = avatars[0].contentUrl\n      }\n      if (avatar) {\n        return (\n          <Avatar\n            alt={userData.username}\n            src={avatar}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n            onClick={() => navigateTo('data')}\n          />\n        )\n      } else {\n        return (\n          <Avatar\n            onClick={() => navigateTo('data')}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n          >\n            <AccountIcon />\n          </Avatar>\n        )\n      }\n    } else {\n      return <BlockstackButton variant=\"light\" onClick={() => this.signIn()} />\n    }\n  }\n}\n\nexport default BlockstackProfile\n","import { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Search from './search'\nimport BlockstackProfile from './blockstackProfile'\nimport { Container, Typography, Grid } from '@material-ui/core'\n\nconst Header = ({ siteTitle, siteDescription, siteSearchIndex }) => (\n  <Container\n    style={{\n      background: '#3f51b5',\n      paddingTop: 1.45 + `rem`,\n      color: 'white',\n    }}\n  >\n    <Grid container>\n      <Grid item sm={8} xs={12}>\n        <Typography variant=\"h3\">\n          <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n            {siteTitle}\n          </Link>\n        </Typography>\n        <Typography variant=\"body2\">{siteDescription}</Typography>\n        <Search searchIndex={siteSearchIndex.index} />\n      </Grid>\n      <Grid item sm={4} xs={12}>\n        <BlockstackProfile />\n      </Grid>\n    </Grid>\n  </Container>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n  siteDescription: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport './layout.css'\nimport { Typography } from '@material-ui/core';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteHeaderQuery {\n        site {\n          siteMetadata {\n            title\n            description\n          }\n        }\n        siteSearchIndex {\n          index\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header\n          siteTitle={data.site.siteMetadata.title}\n          siteDescription={data.site.siteMetadata.description}\n          siteSearchIndex={data.siteSearchIndex}\n        />\n        <div\n          style={{\n            margin: `0 auto`,\n            maxWidth: 960,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n          }}\n        >\n          {children}\n          <footer>\n            <Typography variant=\"body2\" style={{fontSize:\"small\"}} >\n            © {new Date().getFullYear()}, Built with\n            {` `}\n            <a href=\"https://www.gatsbyjs.org\">Gatsby</a> and{' '}\n            <a href=\"https://blockstack.org\">Blockstack</a>. You can{' '}\n            <a href=\"https://gitlab.com/friedger/app-center\">\n              view the source here\n            </a>\n            </Typography>\n          </footer>\n        </div>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import { UserSession, AppConfig } from 'blockstack'\nimport { configure, getConfig, User, GroupMembership } from 'radiks'\n\n// helpful for debugging\nconst logAuth = process.env.NODE_ENV === 'development' && true // set to true to turn on logging\nconst clog = (...args) => logAuth && console.log(...args)\n// helpful for debugging\n\nconst appConfig = new AppConfig(\n  ['store_write'],\n  typeof window !== 'undefined'\n    ? window.location.origin\n    : 'http://localhost:8000',\n  '/data',\n  '/manifest.webmanifest'\n)\nconst uSession = new UserSession({ appConfig })\n\nconfigure({\n  apiServer: process.env.GATSBY_RADIKS_SERVER || 'http://localhost:1260',\n  userSession: uSession,\n})\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport const getUser = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n    ? userSession.loadUserData()\n    : {}\n}\n\nexport const isSignedIn = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n}\n\nexport const handleLogin = callback => {\n  const { userSession } = getConfig()\n  console.log('handleLogin')\n  clog('isLoggedIn check', userSession.isUserSignedIn())\n  if (userSession.isUserSignedIn()) {\n    clog('logged in')\n    callback(getUser())\n  } else if (userSession.isSignInPending()) {\n    userSession.handlePendingSignIn().then(userData => {\n      User.createWithCurrentUser().then(() => {\n        console.log('user created')\n        callback(userData)\n      })\n    })\n  } else {\n    userSession.redirectToSignIn()\n  }\n}\n\nexport const redirectToSignIn = () => {\n  const { userSession } = getConfig()\n  userSession.redirectToSignIn()\n}\n\nexport const checkIsSignedIn = () => {\n  if (!isBrowser()) {\n    clog('Not a browser')\n    return Promise.resolve(false)\n  }\n  const { userSession } = getConfig()\n  if (userSession.isSignInPending()) {\n    return userSession.handlePendingSignIn().then(() => true)\n  } else if (userSession.isUserSignedIn()) {\n    const user = userSession.loadUserData()\n    clog('isLoggedIn check', { user })\n    return Promise.resolve(!!user)\n  } else {\n    clog('isLoggedIn check - nothing')\n    return Promise.resolve(false)\n  }\n}\n\nexport const logout = callback => {\n  const { userSession } = getConfig()\n  GroupMembership.clearStorage()\n  userSession.signUserOut('/data/login')\n  callback()\n}\n\nexport const encryptContent = message => {\n  const { userSession } = getConfig()\n  console.log('encrypting ' + message)\n  return userSession.encryptContent(message)\n}\n\nexport const loadMyData = () => {\n  const { userSession } = getConfig()\n  return userSession.getFile('content').then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveAppData = (identifier, content) => {\n  const { userSession } = getConfig()\n  return userSession.putFile(`apps/${identifier}`, JSON.stringify(content))\n}\n\nexport const loadAppData = identifier => {\n  const { userSession } = getConfig()\n  return userSession.getFile(`apps/${identifier}`).then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveMyData = content => {\n  const { userSession } = getConfig()\n  return userSession.putFile('content', JSON.stringify(content))\n}\n\nexport const postUserUpdate = async (visibility, userComment) => {\n  if (visibility === 'public') {\n    await userComment.save()\n  } else if (visibility === 'private') {\n    await userComment.savePrivately()\n  } else if (visibility === 'devs') {\n    throw new Error('not yet implemented')\n  }\n\n  return null\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { Model } from 'radiks'\n\nclass ModelExt extends Model {\n  savePrivately() {\n    return new Promise(async (resolve, reject) => {\n      try {\n        if (this.beforeSave) {\n          await this.beforeSave()\n        }\n        const now = new Date().getTime()\n        this.attrs.createdAt = this.attrs.createdAt || now\n        this.attrs.updatedAt = now\n        await this.sign()\n        const encrypted = await this.encrypted()\n        await this.saveFile(encrypted)\n        resolve(this)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n}\nexport class UserComment extends ModelExt {\n  static className = 'UserComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n  }\n}\n\nexport class OwnerComment extends ModelExt {\n  static className = 'OwnerComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n    verified: {\n      type: Boolean,\n      decrypted: true,\n    },\n  }\n  static defaults = {\n    verified: false,\n  }\n}\n"],"sourceRoot":""}