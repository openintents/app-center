{"version":3,"sources":["webpack:///./src/app/components/NavBar.js","webpack:///./src/app/components/AppSelector.js","webpack:///./src/app/myapps.js","webpack:///./src/app/mycomments.js","webpack:///./src/app/main.js","webpack:///./src/app/components/PrivateRoute.js","webpack:///./src/app/login.js","webpack:///./src/app/app.js","webpack:///./src/pages/data.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/search.js","webpack:///./src/components/blockstackProfile.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/app/services/blockstack.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/model.js","webpack:///./src/components/userCommentDialog.js","webpack:///./src/components/ownerCommentDialog.js"],"names":["NavBar","state","checking","signedIn","componentDidMount","checkIsSignedIn","then","_this","setState","render","content","message","login","_this$state","this","user","getUser","name","profile","username","decentralizedId","react_default","a","createElement","style","display","flex","justifyContent","borderBottom","backgroundColor","Typography","component","gatsby_browser_entry","to","href","onClick","event","preventDefault","logout","navigate","React","Component","StyledRoot","styled","div","withConfig","displayName","componentId","AppSelector","_ref","myApps","onSubmitApps","console","log","data","_3630975111","Fragment","formik_esm","initialValues","validate","values","onSubmit","_ref3","setSubmitting","finally","_ref2","i","app","handleChange","errors","touched","handleBlur","handleSubmit","isSubmitting","apps","allApps","edges","node","push","key","type","onChange","onBlur","checked","appcoid","id","htmlFor","Button","variant","disabled","MyApps","loading","_this2","loadMyData","saveMyApps","saveMyData","_this3","components_AppSelector","SmallRating","withStyles","iconButton","width","height","padding","icon","Rating","MyComments","myComments","myUpdates","myPrivateComments","myDraftUpdates","loadingApps","loadingComments","loadingUpdates","showUpdateDialog","showCommentDialog","userUpdate","currentVisibility","rating","updating","handleChangeVisibility","target","value","handleChangeRating","handleCloseUpdate","postComment","_callee","currentComment","regenerator_default","wrap","_context","prev","next","saveUserComment","savePrivateUserComment","loadComments","stop","postUpdate","_callee2","_this$state2","_context2","saveOwnerComment","saveDraftUpdate","_callee3","_this$state3","_context3","saveDraftOwnerComment","handleChangeText","e","User","createWithCurrentUser","UserComment","fetchOwnList","PrivateUserComment","OwnerComment","DraftOwnerComment","handleClick","comment","visibility","modelName","includes","asComment","attrs","handleDeleteClick","filter","item","destroy","renderComments","_this4","comments","forEach","c","website","object","appLabel","length","readOnly","ListItem","button","_id","ListItemText","primary","secondary","ListItemSecondaryAction","IconButton","aria-label","Delete_default","List","_this5","_this$state4","query","Divider","light","UserCommentDialog","OwnerCommentDialog","_3281459157","Main","encryptedMessage","encryptContent","renderApps","Object","keys","appEditLink","substr","edge","toString","renderUpdates","updates","String","_230829525","PrivateRoute","location","props","pathname","search","startsWith","_this$props","rest","objectWithoutPropertiesLoose_default","Login","handleLogin","Container","Link","PublicRoute","children","App","layout","NavBar_NavBar","es","components_PrivateRoute","path","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","StaticQueryDataRenderer","staticQueryData","finalData","Consumer","propTypes","PropTypes","string","isRequired","func","Search","_Component","call","getOrCreateIndex","index","Index","load","searchIndex","evt","results","expand","map","ref","documentStore","getDoc","placeholder","page","appNodes","localFile","childImageSharp","gatsby_image_default","fixed","color","fontWeight","textDecoration","Grid","container","xs","category","description","_1693737245","BlockstackProfile","isSignedIn","isLoading","userData","signIn","redirectToSignIn","avatars","avatar","image","contentUrl","Avatar","alt","src","cursor","marginBottom","navigateTo","AccountBox_default","dist","Header","siteTitle","siteDescription","siteSearchIndex","hideSearch","background","paddingTop","sm","search_Search","blockstackProfile","defaultProps","Layout","header","site","siteMetadata","title","margin","maxWidth","fontSize","Date","getFullYear","getApiServer","_2239313339","appConfig","AppConfig","window","origin","uSession","UserSession","configure","apiServer","process","userSession","getConfig","isBrowser","isUserSignedIn","loadUserData","callback","isSignInPending","handlePendingSignIn","redirectUri","Promise","resolve","GroupMembership","clearStorage","signUserOut","getFile","JSON","parse","putFile","stringify","m","module","exports","require","default","ProdPageRenderer","pageResources","InternalPageRenderer","assign","json","shape","ModelExt","fetchOwnPrivateList","models","Set","listFiles","add","substring","savePrivately","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","mark","reject","now","encrypted","beforeSave","getTime","createdAt","updatedAt","sign","sent","saveFile","t0","_x","_x2","apply","arguments","Model","_ModelExt","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_11___default","className","schema","decrypted","Number","createdBy","_ModelExt2","verified","Boolean","defaults","_ModelExt3","publicRef","_ModelExt4","commentText","updatedComment","update","save","_x3","_x4","_x5","_x6","_x7","_x8","_ref4","_callee4","_context4","_x9","_x10","_ref5","_callee5","_context5","_x11","_x12","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core__WEBPACK_IMPORTED_MODULE_9__","_material_ui_core__WEBPACK_IMPORTED_MODULE_10__","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","material_ui_rating__WEBPACK_IMPORTED_MODULE_12__","material_ui_rating__WEBPACK_IMPORTED_MODULE_12___default","open","onClose","aria-labelledby","control","label","fullWidth","multiline","rows","helperText","size"],"mappings":"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","file":"component---src-pages-data-js-514dc9293956890d995f.js","sourcesContent":["import React from 'react'\nimport { Link, navigate } from 'gatsby'\nimport { getUser, checkIsSignedIn, logout } from '../services/blockstack'\nimport { Typography } from '@material-ui/core'\n\nexport default class NavBar extends React.Component {\n  state = { checking: true, signedIn: false }\n  componentDidMount = () => {\n    checkIsSignedIn().then(signedIn =>\n      this.setState({ checking: false, signedIn })\n    )\n  }\n\n  render() {\n    const content = { message: '', login: true }\n    const { checking, signedIn } = this.state\n    if (checking) {\n      content.message = 'stacking blocks...'\n    } else if (signedIn) {\n      const user = getUser()\n      let name = user.profile && user.profile.name\n      if (!name) {\n        name = user.username\n      }\n      if (!name) {\n        name = user.decentralizedId\n      }\n      content.message = `Hello, ${name} (${user.username})`\n    } else {\n      content.message = 'You are not logged in'\n    }\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flex: '1',\n          justifyContent: 'space-between',\n          borderBottom: '1px solid #d1c1e0',\n          backgroundColor: 'aliceblue',\n        }}\n      >\n        <Typography component=\"span\">{content.message}</Typography>\n\n        <nav>\n          <Typography>\n            <Link to=\"/data/\">Overview</Link>\n            {` `}\n            <Link to=\"/data/comments\">My Comments</Link>\n            {` `}\n            <Link to=\"/data/apps\">My Apps</Link>\n            {` `}\n            {signedIn ? (\n              <a\n                href=\"/data/login\"\n                onClick={event => {\n                  event.preventDefault()\n                  logout(() => navigate(`/data/login`))\n                }}\n              >\n                Logout\n              </a>\n            ) : (\n              <Link to=\"/data/login\">Login</Link>\n            )}\n          </Typography>\n        </nav>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport { Formik } from 'formik'\nimport { Button } from '@material-ui/core';\n\nconst StyledRoot = styled.div`\n  flexgrow: 1;\n`\n\nconst AppSelector = ({myApps, onSubmitApps}) => {\n  console.log({myApps, onSubmitApps})\n  const data = useStaticQuery(graphql`\n    query AppsQuery {\n      allApps(sort: { fields: [name] }) {\n        edges {\n          node {\n            ...AppInformation\n          }\n        }\n      }\n    }\n  `)\n\n  const appSelectionForm = ({\n    values,\n    errors,\n    touched,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting,\n  }) => {\n    const apps = []\n    let i, app\n    for (i in data.allApps.edges) {\n      app = data.allApps.edges[i].node\n      apps.push(\n        <div key={i}>\n          <input\n            type=\"checkbox\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            checked={values[`app-${app.appcoid}`] || false}\n            id={app.appcoid}\n            name={`app-${app.appcoid}`}\n          />\n          <label htmlFor={app.appcoid}>{app.name}</label>\n        </div>\n      )\n    }\n\n    return (\n      <form onSubmit={handleSubmit}>\n        {apps}\n        <Button variant=\"outlined\" type=\"submit\" disabled={isSubmitting}>\n          Save\n        </Button>\n      </form>\n    )\n  }\n  return (\n    <>\n      <h1>Your app(s)</h1>\n      <StyledRoot>\n        <Formik\n          initialValues={myApps}\n          validate={values => {\n            let errors = {}\n            return errors\n          }}\n          onSubmit={(values, { setSubmitting }) => {\n            onSubmitApps(values).finally(()=> {\n              setSubmitting(false)\n            })\n          }}\n        >\n          {appSelectionForm}\n        </Formik>\n      </StyledRoot>\n      <hr />\n    </>\n  )\n}\n\nexport default AppSelector\n","import React from 'react'\nimport { saveMyData, loadMyData } from './services/blockstack'\nimport AppSelector from './components/AppSelector'\n\nclass MyApps extends React.Component {\n  state = {\n    myApps: {},\n    loading: true,\n  }\n\n  componentDidMount() {\n    loadMyData().then(content => {\n      this.setState({ myApps: content.myApps, loading: false })\n    })\n  }\n\n  saveMyApps(values) {\n    return saveMyData({ myApps: values })\n  }\n\n  render() {\n    const { myApps, loading } = this.state\n\n    return (\n      <>\n        {loading && <>Loading...</>}\n        {!loading && (\n          <AppSelector\n            myApps={myApps}\n            onSubmitApps={values => this.saveMyApps(values)}\n          />\n        )}\n      </>\n    )\n  }\n}\n\nexport default MyApps\n","import React from 'react'\nimport { graphql, Link, StaticQuery } from 'gatsby'\nimport { loadMyData } from './services/blockstack'\nimport {\n  Typography,\n  ListItem,\n  ListItemText,\n  List,\n  Divider,\n  ListItemSecondaryAction,\n  IconButton,\n  withStyles,\n} from '@material-ui/core'\nimport {\n  UserComment,\n  OwnerComment,\n  PrivateUserComment,\n  DraftOwnerComment,\n  saveDraftOwnerComment,\n  saveOwnerComment,\n  saveUserComment,\n  savePrivateUserComment,\n} from '../components/model'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Rating from 'material-ui-rating'\nimport { User } from 'radiks/lib'\nimport UserCommentDialog from '../components/userCommentDialog'\nimport OwnerCommentDialog from '../components/ownerCommentDialog'\n\nconst smallStyles = {\n  iconButton: {\n    width: 24,\n    height: 24,\n    padding: 0,\n  },\n  icon: {\n    width: 16,\n    height: 16,\n  },\n}\nexport const SmallRating = withStyles(smallStyles)(Rating)\n\nclass MyComments extends React.Component {\n  state = {\n    myApps: {},\n    myComments: [],\n    myUpdates: [],\n    myPrivateComments: [],\n    myDraftUpdates: [],\n    loading: true,\n    loadingApps: true,\n    loadingComments: true,\n    loadingUpdates: true,\n    showUpdateDialog: false,\n    showCommentDialog: false,\n    userUpdate: '',\n    currentVisibility: 'private',\n    rating: 0,\n    updating: false,\n  }\n\n  componentDidMount() {\n    User.createWithCurrentUser().then(() => {\n      loadMyData().then(content => {\n        this.setState({\n          myApps: content.myApps,\n          loadingApps: false,\n          loading: this.state.loadingComments && this.state.loadingUpdates,\n        })\n      })\n\n      this.loadComments()\n    })\n  }\n\n  loadComments() {\n    UserComment.fetchOwnList().then(myComments => {\n      this.setState({\n        myComments,\n        loadingComments: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n    PrivateUserComment.fetchOwnList().then(myPrivateComments => {\n      this.setState({\n        myPrivateComments,\n        loadingComments: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n\n    OwnerComment.fetchOwnList().then(myUpdates => {\n      this.setState({\n        myUpdates,\n        loadingUpdates: false,\n        loading: this.state.loadingApps && this.state.loadingComments,\n      })\n    })\n    DraftOwnerComment.fetchOwnList().then(myDraftUpdates => {\n      this.setState({\n        myDraftUpdates,\n        loadingUpdates: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n  }\n\n  handleClick(comment) {\n    const visibility = [\n      UserComment.modelName(),\n      OwnerComment.modelName(),\n    ].includes(comment.modelName())\n      ? 'public'\n      : 'private'\n    const asComment = [\n      UserComment.modelName(),\n      PrivateUserComment.modelName(),\n    ].includes(comment.modelName())\n    this.setState({\n      userUpdate: comment.attrs.comment,\n      currentComment: comment,\n      currentVisibility: visibility,\n      showUpdateDialog: !asComment,\n      showCommentDialog: asComment,\n    })\n  }\n\n  handleDeleteClick(comment) {\n    const myComments = this.state.myComments.filter(item => item !== comment)\n    const myPrivateComments = this.state.myPrivateComments.filter(\n      item => item !== comment\n    )\n    const myUpdates = this.state.myUpdates.filter(item => item !== comment)\n    const myDraftUpdates = this.state.myDraftUpdates.filter(\n      item => item !== comment\n    )\n    comment.destroy()\n    this.setState({ myComments, myPrivateComments, myUpdates, myDraftUpdates })\n  }\n\n  renderComments(myComments, data) {\n    const comments = []\n    if (myComments) {\n      myComments.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        const appLabel =\n          apps.length === 1\n            ? `For ${apps[0].node.name}`\n            : `For ${c.attrs.object}`\n        const rating = [\n          UserComment.modelName(),\n          PrivateUserComment.modelName(),\n        ].includes(c.modelName()) ? (\n          <>\n            <br />\n            <SmallRating component=\"span\" readOnly value={c.attrs.rating} />\n          </>\n        ) : null\n        comments.push(\n          <ListItem button key={c._id} onClick={() => this.handleClick(c)}>\n            <ListItemText\n              primary={<>{c.attrs.comment}</>}\n              secondary={\n                <>\n                  {appLabel}\n                  {rating}\n                </>\n              }\n            />\n            <ListItemSecondaryAction onClick={() => this.handleDeleteClick(c)}>\n              <IconButton aria-label=\"Delete\">\n                <DeleteIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        )\n      })\n    } else {\n      comments.push(\n        <ListItem>\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/appco-foss\">Add comments to a few apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{comments}</List>\n  }\n\n  handleChangeVisibility = event => {\n    this.setState({ currentVisibility: event.target.value })\n  }\n\n  handleChangeRating = value => {\n    this.setState({ rating: value })\n  }\n\n  handleCloseUpdate = () => {\n    this.setState({ showUpdateDialog: false, showCommentDialog: false })\n  }\n\n  postComment = async () => {\n    this.setState({ updating: true })\n    const { userUpdate, rating, currentVisibility, currentComment } = this.state\n    if (currentVisibility === 'public') {\n      await saveUserComment(userUpdate, rating, currentComment)\n    } else {\n      await savePrivateUserComment(userUpdate, rating, currentComment)\n    }\n    await this.loadComments()\n    this.setState({\n      showUpdateDialog: false,\n      showCommentDialog: false,\n      updating: false,\n    })\n  }\n\n  postUpdate = async () => {\n    this.setState({ updating: true })\n    const { userUpdate, currentComment } = this.state\n    await saveOwnerComment(userUpdate, currentComment)\n    await this.loadComments()\n    this.setState({\n      showUpdateDialog: false,\n      showCommentDialog: false,\n      updating: false,\n    })\n  }\n\n  saveDraftUpdate = async () => {\n    const { userUpdate, currentComment } = this.state\n    await saveDraftOwnerComment(userUpdate, currentComment)\n    await this.loadComments()\n  }\n\n  handleChangeText = e => {\n    this.setState({ userUpdate: e.target.value })\n  }\n\n  render() {\n    const {\n      myComments,\n      myUpdates,\n      myPrivateComments,\n      myDraftUpdates,\n      loading,\n      rating,\n      userUpdate,\n      showCommentDialog,\n      showUpdateDialog,\n      currentVisibility,\n      updating,\n    } = this.state\n\n    return (\n      <StaticQuery\n        query={graphql`\n          query MyCommentsQuery {\n            allApps(sort: { fields: [name] }) {\n              edges {\n                node {\n                  ...AppInformation\n                }\n              }\n            }\n          }\n        `}\n        render={data => (\n          <>\n            {loading && <>Loading...</>}\n            {!loading && (\n              <>\n                <Typography variant=\"h3\">Comments</Typography>\n                {this.renderComments(myComments, data)}\n                {this.renderComments(myPrivateComments, data)}\n                <Divider light />\n                {this.renderComments(myUpdates, data)}\n                {this.renderComments(myDraftUpdates, data)}\n              </>\n            )}\n            {UserCommentDialog({\n              userUpdate,\n              showUpdateDialog: showCommentDialog,\n              updating,\n              rating,\n              visibility: currentVisibility,\n              handleCloseUpdate: this.handleCloseUpdate,\n              handleChangeVisibility: this.handleChangeVisibility,\n              handleChangeText: this.handleChangeText,\n              handleChangeRating: this.handleChangeRating,\n              postComment: this.postComment,\n            })}\n            {OwnerCommentDialog({\n              userUpdate,\n              showUpdateDialog: showUpdateDialog,\n              updating,\n              visibility: currentVisibility,\n              handleCloseUpdate: this.handleCloseUpdate,\n              handleChangeVisibility: this.handleChangeVisibility,\n              handleChangeText: this.handleChangeText,\n              saveDraftUpdate: this.saveDraftUpdate,\n              postComment: this.postUpdate,\n            })}\n          </>\n        )}\n      />\n    )\n  }\n}\n\nexport default MyComments\n","import React from 'react'\nimport { graphql, Link, StaticQuery } from 'gatsby'\nimport { encryptContent, loadMyData } from './services/blockstack'\nimport { UserComment, OwnerComment, PrivateUserComment } from '../components/model'\nimport { Typography, ListItem, ListItemText, List } from '@material-ui/core'\nimport { User } from 'radiks/lib'\nimport { SmallRating } from './mycomments';\n\nclass Main extends React.Component {\n  state = {\n    myApps: {},\n    myComments: [],\n    myUpdates: [],\n    loadingApps: true,\n    loadingComments: true,\n    loadingUpdates: true,\n    loading: true,\n  }\n\n  componentDidMount() {\n    User.createWithCurrentUser().then(() => {\n      loadMyData().then(content => {\n        this.setState({\n          myApps: content.myApps,\n          loadingApps: false,\n          loading: this.state.loadingComments && this.state.loadingUpdates,\n        })\n      })\n      UserComment.fetchOwnList().then(myComments => {\n        this.setState({\n          myComments,\n          loadingComments: false,\n          loading: this.state.loadingApps && this.state.loadingUpdates,\n        })\n      })\n      OwnerComment.fetchOwnList().then(myUpdates => {\n        this.setState({\n          myUpdates,\n          loadingUpdates: false,\n          loading: this.state.loadingApps && this.state.loadingComments,\n        })\n      })\n    })\n  }\n\n  handleClick(event) {\n    const encryptedMessage = encryptContent(this.state.message)\n    this.setState({ encryptedMessage })\n  }\n\n  handleChange(event) {\n    this.setState({ message: event.target.value })\n  }\n\n  renderApps(myApps, data) {\n    const apps = []\n    if (myApps) {\n      Object.keys(myApps).forEach(key => {\n        if (myApps[key]) {\n          const appEditLink = `/appco/${key.substr(4)}`\n          const app = data.allApps.edges.filter(edge => {\n            return edge.node.appcoid.toString() === key.substr(4)\n          })[0].node\n          apps.push(\n            <ListItem key={app.appcoid}>\n              <ListItemText\n                primary={\n                  <>\n                    <Link to={appEditLink}>{app.name}</Link>\n                  </>\n                }\n              />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      apps.push(\n        <ListItem key=\"empty\">\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/data/apps\">Add your apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{apps}</List>\n  }\n\n  renderComments(myComments, data) {\n    const comments = []\n\n    if (myComments && myComments.length > 0) {\n      myComments.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        const appLabel =\n          apps.length === 1\n            ? `For ${apps[0].node.name}`\n            : `For ${c.attrs.object}`\n        const rating = [\n          UserComment.modelName(),\n          PrivateUserComment.modelName(),\n        ].includes(c.modelName()) ? (\n          <>\n            <br />\n            <SmallRating component=\"span\" readOnly value={c.attrs.rating} />\n          </>\n        ) : null\n\n        if (apps.length === 1) {\n          comments.push(\n            <ListItem key={c._id}>\n              <ListItemText\n                primary={<>{c.attrs.comment}</>}\n                secondary={\n                  <>\n                    {appLabel}\n                    {rating}\n                  </>\n                }\n              />\n            </ListItem>\n          )\n        } else {\n          comments.push(\n            <ListItem key={c._id}>\n              <ListItemText primary={<>{c.attrs.comment}</>} />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      comments.push(\n        <ListItem key=\"empty\">\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/appco-foss\">Add comments to a few apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{comments}</List>\n  }\n\n  renderUpdates(myUpdates, data) {\n    const updates = []\n    if (myUpdates) {\n      console.log(myUpdates)\n      myUpdates.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        let comment\n        if (\n          typeof c.attrs.comment === 'string' ||\n          c.attrs.comment instanceof String\n        ) {\n          comment = c.attrs.comment\n        } else {\n          comment = '** Decryption failed. **'\n        }\n        if (apps.length === 1) {\n          updates.push(\n            <ListItem key={c._id}>\n              <ListItemText\n                primary={<>{comment}</>}\n                secondary={<>For {apps[0].node.name}</>}\n              />\n            </ListItem>\n          )\n        } else {\n          updates.push(\n            <ListItem key={c._id}>\n              <ListItemText primary={<>{comment}</>} />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      updates.push(\n        <ListItem>\n          <ListItemText primary=\"Add updates to your apps\" />\n        </ListItem>\n      )\n    }\n    return <List>{updates}</List>\n  }\n\n  render() {\n    const { myApps, myComments, myUpdates } = this.state\n\n    return (\n      <StaticQuery\n        query={graphql`\n          query MainAppsQuery {\n            allApps(sort: { fields: [name] }) {\n              edges {\n                node {\n                  ...AppInformation\n                }\n              }\n            }\n          }\n        `}\n        render={data => (\n          <>\n            <Typography variant=\"h3\">Overview</Typography>\n            <Typography variant=\"h4\">Your Comments</Typography>\n            {this.renderComments(myComments, data)}\n            <Typography variant=\"h4\">Your Apps</Typography>\n            {this.renderApps(myApps, data)}\n            <Typography variant=\"h4\">Your App Updates</Typography>\n            {this.renderUpdates(myUpdates, data)}\n          </>\n        )}\n      />\n    )\n  }\n}\n\nexport default Main\n","import React from 'react'\nimport { checkIsSignedIn } from '../services/blockstack'\nimport { navigate } from 'gatsby'\n\nclass PrivateRoute extends React.Component {\n  state = {checking:true, signedIn:false}\n\n  componentDidMount = () => {\n    const { location } = this.props\n    checkIsSignedIn().then(signedIn => {\n      if (location.pathname !== `/data/login`) {\n        if (!signedIn) {\n          // If the user is not logged in, redirect to the login page.\n          navigate(`/data/login`)\n          return null\n        } else {\n          if (location.search && location.search.startsWith(\"?authResponse=\")) {\n            navigate(`/data/`)\n          }\n        }\n      }\n      this.setState({checking:false, signedIn})\n    })\n  }\n\n  render() {\n    const { component: Component, location, ...rest } = this.props\n    const {checking, signedIn} = this.state\n    if (checking) {\n      return <>...</>\n    } else {\n      return signedIn ? <Component {...rest} /> : null\n    }\n  }\n}\n\nexport default PrivateRoute\n","import React from 'react'\nimport { navigate } from 'gatsby'\nimport { handleLogin } from './services/blockstack'\nimport { Button, Typography, Link, Container, Divider } from '@material-ui/core'\n\nclass Login extends React.Component {\n  componentDidMount() {\n    const location = this.props\n    if (\n      location &&\n      location.location &&\n      !!location.location.search &&\n      location.location.search.startsWith('?authResponse=')\n    ) {\n      navigate(`/data`)\n    }\n  }\n\n  handleSubmit = () => handleLogin(user => navigate(`/data`))\n  render() {\n    return (\n      <>\n        <Container>\n          <Typography variant=\"h3\">Log in</Typography>\n          <Typography variant=\"body1\">What is Blockstack?</Typography>\n          <Typography variant=\"body2\">\n            Blockstack is a new approach to the internet that let you own your\n            data and maintain your privacy, security and freedom. Find out more\n            at{' '}\n            <Link href=\"https://docs.blockstack.org/\">\n              Blockstack's documentation\n            </Link>\n            .\n          </Typography>\n          <Divider light />\n          <Typography variant=\"body1\">\n            Why not login with Facebook or Google? Or my email?\n          </Typography>\n          <Typography variant=\"body2\">\n            Most social media companies are providing you with a free account so\n            that they can sell your information to the highest bidder.\n            Blockstack is different. With Blockstack, YOU control your identity.\n            Neither Blockstack nor the makers of Blockstack apps can take the id\n            from you or have access to it.\n          </Typography>\n        </Container>\n        <Button variant=\"outlined\" onClick={this.handleSubmit}>\n          log in\n        </Button>\n      </>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react'\nimport { Router } from '@reach/router'\nimport Layout from '../components/layout'\nimport NavBar from './components/NavBar'\nimport MyApps from './myapps'\nimport Main from './main'\nimport PrivateRoute from './components/PrivateRoute'\nimport Login from './login'\nimport MyComments from './mycomments';\n\nconst App = () => {\n  return (\n    <Layout>\n      <NavBar />\n      <Router>\n        <PrivateRoute path=\"/data/apps\" component={MyApps} />\n        <PrivateRoute path=\"/data/comments\" component={MyComments} />\n        <PublicRoute path=\"/data\">\n          <PrivateRoute path=\"/\" component={Main} />\n          <Login path=\"/login\" />\n        </PublicRoute>\n      </Router>\n    </Layout>\n  )\n}\nfunction PublicRoute(props) {\n  return <div>{props.children}</div>\n}\n\nexport default App\n","import App from '../app/app'\n\nexport default App\n\n// `src/app` is not \"special\", it is re-exported by `src/pages/app.js`\n// and contains all the clientside dynamic App pages that we dont want to be statically generated.\n// `src/pages/app.js` skips the static generation process because of `gatsby-plugin-create-client-paths`\n// configured in `gatsby-config.js`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React, { Component } from 'react'\nimport { Index } from 'elasticlunr'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport { List, ListItem, Typography, Grid } from '@material-ui/core'\nimport Img from 'gatsby-image'\n// Search component\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: ``,\n      results: [],\n    }\n  }\n\n  render() {\n    return (\n      <StaticQuery\n        query={graphql`\n          query SearchQuery {\n            allApps {\n              edges {\n                node {\n                  appcoid: id__normalized\n                  localFile {\n                    id\n                    childImageSharp {\n                      fixed(width: 24, height: 24) {\n                        ...GatsbyImageSharpFixed\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => {\n          return (\n            <div>\n              <input\n                type=\"text\"\n                value={this.state.query}\n                onChange={this.search}\n                placeholder=\"Search apps by name, ..\"\n              />\n              <List>\n                {this.state.results.map(page => {\n                  const appNodes = data.allApps.edges.filter(\n                    e => e.node.appcoid === page.appcoid\n                  )\n                  const icon =\n                    appNodes.length > 0 &&\n                    appNodes[0].node.localFile &&\n                    appNodes[0].node.localFile.childImageSharp ? (\n                      <Img\n                        fixed={appNodes[0].node.localFile.childImageSharp.fixed}\n                      />\n                    ) : (\n                      <div width=\"24px\" height=\"24px\" />\n                    )\n                  return (\n                    <ListItem key={page.id}>\n                      <Link\n                        to={'/appco/' + page.appcoid}\n                        style={{\n                          color: `white`,\n                          fontWeight: 'bold',\n                          textDecoration: `none`,\n                        }}\n                      >\n                        <Grid container>\n                          <Grid item xs={1}>\n                            {icon}\n                          </Grid>\n                          <Grid item xs={11}>\n                            <Typography>\n                              <b>{page.name}</b>\n                              {': ' + page.category} {' : ' + page.description}\n                            </Typography>\n                          </Grid>\n                        </Grid>\n                      </Link>\n                    </ListItem>\n                  )\n                })}\n              </List>\n            </div>\n          )\n        }}\n      />\n    )\n  }\n  getOrCreateIndex = () =>\n    this.index\n      ? this.index\n      : // Create an elastic lunr index and hydrate with graphql query results\n        Index.load(this.props.searchIndex)\n\n  search = evt => {\n    const query = evt.target.value\n    this.index = this.getOrCreateIndex()\n    this.setState({\n      query,\n      // Query the index with search string to get an [] of IDs\n      results: this.index\n        .search(query, { expand: true })\n        // Map over each ID and return the full document\n        .map(({ ref }) => this.index.documentStore.getDoc(ref)),\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  getUser,\n  redirectToSignIn,\n  checkIsSignedIn,\n} from '../app/services/blockstack'\nimport { Avatar } from '@material-ui/core'\nimport AccountIcon from '@material-ui/icons/AccountBox'\nimport { BlockstackButton } from 'react-blockstack-button'\nimport { navigateTo } from 'gatsby'\n\nclass BlockstackProfile extends Component {\n  state = {\n    isSignedIn: false,\n    isLoading: true,\n  }\n\n  componentDidMount() {\n    checkIsSignedIn().then(signedIn => {\n      this.setState({ isSignedIn: signedIn, userData: getUser() })\n    })\n  }\n\n  signIn() {\n    redirectToSignIn()\n  }\n\n  render() {\n    const { isSignedIn, userData } = this.state\n    if (isSignedIn) {\n      let avatars, avatar\n      if (userData.profile && userData.profile.image) {\n        avatars = userData.profile.image.filter(i => i.name === 'avatar')\n      }\n      if (avatars && avatars.length > 0) {\n        avatar = avatars[0].contentUrl\n      }\n      if (avatar) {\n        return (\n          <Avatar\n            alt={userData.username}\n            src={avatar}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n            onClick={() => navigateTo('data')}\n          />\n        )\n      } else {\n        return (\n          <Avatar\n            onClick={() => navigateTo('data')}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n          >\n            <AccountIcon />\n          </Avatar>\n        )\n      }\n    } else {\n      return <BlockstackButton variant=\"light\" onClick={() => this.signIn()} />\n    }\n  }\n}\n\nexport default BlockstackProfile\n","import { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Search from './search'\nimport BlockstackProfile from './blockstackProfile'\nimport { Container, Typography, Grid } from '@material-ui/core'\n\nconst Header = ({\n  siteTitle,\n  siteDescription,\n  siteSearchIndex,\n  hideSearch,\n}) => (\n  <Container\n    style={{\n      background: '#3f51b5',\n      paddingTop: 1.45 + `rem`,\n      color: 'white',\n    }}\n  >\n    <Grid container>\n      <Grid item sm={8} xs={12}>\n        <Typography variant=\"h3\">\n          <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n            {siteTitle}\n          </Link>\n        </Typography>\n        <Typography variant=\"body2\">{siteDescription}</Typography>\n        {!hideSearch && <Search searchIndex={siteSearchIndex.index} />}\n      </Grid>\n      <Grid item sm={4} xs={12}>\n        <BlockstackProfile />\n      </Grid>\n    </Grid>\n  </Container>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n  siteDescription: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport './layout.css'\nimport { Typography } from '@material-ui/core'\nimport { getApiServer } from '../app/services/blockstack'\n\nexport const styles = {\n  smallIcon: {\n    width: 27,\n    height: 27,\n  },\n}\n\nconst Layout = ({ children, hideSearch }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteHeaderQuery {\n        site {\n          siteMetadata {\n            title\n            description\n          }\n        }\n        siteSearchIndex {\n          index\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header\n          siteTitle={data.site.siteMetadata.title}\n          siteDescription={data.site.siteMetadata.description}\n          siteSearchIndex={data.siteSearchIndex}\n          hideSearch={hideSearch}\n        />\n        <div\n          style={{\n            margin: `0 auto`,\n            maxWidth: 960,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n          }}\n        >\n          {children}\n          <footer>\n            <Typography variant=\"body2\" style={{ fontSize: 'small' }}>\n              © {new Date().getFullYear()}, Built with\n              {` `}\n              <a href=\"https://www.gatsbyjs.org\">Gatsby</a> and{' '}\n              <a href=\"https://blockstack.org\">Blockstack</a>. You can{' '}\n              <a href=\"https://gitlab.com/friedger/app-center\">\n                view the source here\n              </a>\n              <br />\n              Radiks Server: {getApiServer()}\n            </Typography>\n          </footer>\n        </div>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import { UserSession, AppConfig } from 'blockstack'\nimport { configure, getConfig, User, GroupMembership } from 'radiks'\n\n// helpful for debugging\nconst logAuth = process.env.NODE_ENV === 'development' && true // set to true to turn on logging\nconst clog = (...args) => logAuth && console.log(...args)\n// helpful for debugging\n\nconst appConfig = new AppConfig(\n  ['store_write', 'publish_data'],\n  typeof window !== 'undefined'\n    ? window.location.origin\n    : 'http://localhost:8000',\n  '/data',\n  '/manifest.webmanifest'\n)\nconst uSession = new UserSession({ appConfig })\n\nconfigure({\n  apiServer: process.env.GATSBY_RADIKS_SERVER || 'http://localhost:1260',\n  userSession: uSession,\n})\n\nexport const getApiServer = () => getConfig().apiServer\n\nexport const getPersonalKey = () => JSON.stringify(User.currentUser())\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport const getUser = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n    ? userSession.loadUserData()\n    : {}\n}\n\nexport const isSignedIn = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n}\n\nexport const handleLogin = callback => {\n  const { userSession } = getConfig()\n  console.log('handleLogin')\n  clog('isLoggedIn check', userSession.isUserSignedIn())\n  if (userSession.isUserSignedIn()) {\n    clog('logged in')\n    callback(getUser())\n  } else if (userSession.isSignInPending()) {\n    userSession.handlePendingSignIn().then(userData => {\n      User.createWithCurrentUser().then(() => {\n        console.log('user created')\n        callback(userData)\n      })\n    })\n  } else {\n    userSession.redirectToSignIn()\n  }\n}\n\nexport const redirectToSignIn = (redirectUri) => {\n  const { userSession } = getConfig()  \n  userSession.redirectToSignIn(redirectUri)\n}\n\nexport const checkIsSignedIn = () => {\n  if (!isBrowser()) {\n    clog('Not a browser')\n    return Promise.resolve(false)\n  }\n  const { userSession } = getConfig()\n  if (userSession.isSignInPending()) {\n    return userSession\n      .handlePendingSignIn()\n      .then(() => User.createWithCurrentUser().then(() => true))\n  } else if (userSession.isUserSignedIn()) {\n    return Promise.resolve(true)\n  } else {\n    clog('isLoggedIn check - nothing')\n    return Promise.resolve(false)\n  }\n}\n\nexport const logout = callback => {\n  const { userSession } = getConfig()\n  GroupMembership.clearStorage()\n  userSession.signUserOut('/data/')\n  callback()\n}\n\nexport const encryptContent = message => {\n  const { userSession } = getConfig()\n  console.log('encrypting ' + message)\n  return userSession.encryptContent(message)\n}\n\nexport const loadMyData = () => {\n  const { userSession } = getConfig()\n  return userSession.getFile('content').then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveAppData = (identifier, content) => {\n  const { userSession } = getConfig()\n  return userSession.putFile(`apps/${identifier}`, JSON.stringify(content))\n}\n\nexport const loadAppData = identifier => {\n  const { userSession } = getConfig()\n  return userSession.getFile(`apps/${identifier}`).then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveMyData = content => {\n  const { userSession } = getConfig()\n  return userSession.putFile('content', JSON.stringify(content))\n}\n\nexport const postUserUpdate = async (visibility, userComment) => {\n  if (visibility === 'public') {\n    await userComment.save()\n  } else if (visibility === 'private') {\n    await userComment.savePrivately()\n  } else if (visibility === 'devs') {\n    throw new Error('not yet implemented')\n  }\n\n  return null\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { Model, getConfig } from 'radiks'\n\nclass ModelExt extends Model {\n  static fetchOwnPrivateList() {\n    const { userSession } = getConfig()\n    const models = new Set()\n    const modelName = this.modelName()\n    return userSession\n      .listFiles(name => {\n        if (name.startsWith(modelName)) {\n          models.add(name.substring(modelName.length + 1))\n        }\n        return true\n      })\n      .then(() => {\n        console.log(models)\n        return models\n      })\n  }\n\n  savePrivately() {\n    return new Promise(async (resolve, reject) => {\n      try {\n        if (this.beforeSave) {\n          await this.beforeSave()\n        }\n        const now = new Date().getTime()\n        this.attrs.createdAt = this.attrs.createdAt || now\n        this.attrs.updatedAt = now\n        await this.sign()\n        const encrypted = await this.encrypted()\n        await this.saveFile(encrypted)\n        resolve(this)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n}\nexport class UserComment extends ModelExt {\n  static className = 'UserComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    rating: {\n      type: Number,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n  }\n}\n\nexport class OwnerComment extends ModelExt {\n  static className = 'OwnerComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n    verified: {\n      type: Boolean,\n      decrypted: true,\n    },\n  }\n  static defaults = {\n    verified: false,\n  }\n}\n\nexport class PrivateUserComment extends ModelExt {\n  static className = 'PrivateUserComment'\n  static schema = {\n    object: String,\n    rating: Number,\n    comment: String,    \n    publicRef: String,\n  }\n}\n\nexport class DraftOwnerComment extends ModelExt {\n  static className = 'PrivateOwnerComment'\n  static schema = {\n    object: String,\n    comment: String,\n    publicRef: String,\n  }\n}\n\nexport const saveUserComment = async (commentText, rating, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === PrivateUserComment.modelName()) {\n    updatedComment = new UserComment({\n      object: currentComment.attrs.object,\n      rating,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      rating,\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const savePrivateUserComment = async (\n  commentText,\n  rating,\n  currentComment\n) => {\n  let updatedComment\n  if (currentComment.modelName() === UserComment.modelName()) {\n    updatedComment = new PrivateUserComment({\n      object: currentComment.attrs.object,\n      rating,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      rating,\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const saveOwnerComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === DraftOwnerComment.modelName()) {\n    updatedComment = new OwnerComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const saveDraftOwnerComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === OwnerComment.modelName()) {\n    updatedComment = new DraftOwnerComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n","import React from 'react'\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  TextField,\n  DialogActions,\n  Button,\n  CircularProgress,\n} from '@material-ui/core'\nimport Rating from 'material-ui-rating'\n\nconst UserCommentDialog = ({\n  userUpdate,\n  showUpdateDialog,\n  updating,\n  visibility,\n  rating,\n  handleCloseUpdate,\n  handleChangeVisibility,\n  handleChangeText,\n  handleChangeRating,\n  postComment,\n}) => {\n  return (\n    <Dialog\n      open={showUpdateDialog}\n      onClose={() => handleCloseUpdate()}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Add Comment</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Comments can be shown to either all users publicly or kept privately.\n        </DialogContentText>\n\n        <RadioGroup\n          aria-label=\"Visibility\"\n          name=\"visibility\"\n          value={visibility}\n          onChange={e => handleChangeVisibility(e)}\n        >\n          <FormControlLabel\n            value=\"public\"\n            control={<Radio />}\n            label=\"Visible for all\"\n          />\n\n          <FormControlLabel\n            value=\"private\"\n            control={<Radio />}\n            label=\"Visible only for me\"\n          />\n        </RadioGroup>\n        <Rating\n          onChange={(value) => handleChangeRating(value)}\n          value={rating}\n        />\n        <TextField\n          margin=\"normal\"\n          id=\"userUpdate\"\n          type=\"text\"\n          fullWidth\n          multiline\n          rows=\"3\"\n          helperText=\"What did you like or dislike?\"\n          variant=\"outlined\"\n          value={userUpdate}\n          onChange={e => handleChangeText(e)}\n        />\n      </DialogContent>\n      <DialogActions>\n        {updating && <CircularProgress size={24} />}\n\n        <Button onClick={() => handleCloseUpdate()} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={() => postComment()} color=\"primary\">\n          Post\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default UserCommentDialog\n","import React from 'react'\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  TextField,\n  DialogActions,\n  Button,\n  CircularProgress,\n} from '@material-ui/core'\n\nconst OwnerCommentDialog = ({\n  userUpdate,\n  showUpdateDialog,\n  updating,\n  visibility,\n  handleCloseUpdate,\n  handleChangeVisibility,\n  handleChangeText,\n  saveDraftUpdate,\n  postComment,\n}) => {\n  return (\n    <Dialog\n      open={showUpdateDialog}\n      onClose={() => handleCloseUpdate()}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Publish Update</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Updates are shown to all users onced published\n        </DialogContentText>        \n        <TextField\n          margin=\"normal\"\n          id=\"userUpdate\"\n          type=\"text\"\n          fullWidth\n          multiline\n          rows=\"3\"\n          helperText=\"What is new? (~200 characters)\"\n          variant=\"outlined\"\n          value={userUpdate}\n          onChange={e => handleChangeText(e)}\n        />\n      </DialogContent>\n      <DialogActions>\n        {updating && <CircularProgress size={24} />}\n        <Button onClick={() => handleCloseUpdate()} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={() => saveDraftUpdate()} color=\"secondary\">\n          Save Draft\n        </Button>\n        <Button onClick={() => postComment()} color=\"primary\">\n          Post\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default OwnerCommentDialog\n"],"sourceRoot":""}