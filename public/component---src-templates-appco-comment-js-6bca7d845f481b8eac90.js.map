{"version":3,"sources":["webpack:///./src/templates/appco-comment.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/app.js","webpack:///./node_modules/@material-ui/icons/Apps.js","webpack:///./node_modules/@material-ui/icons/Launch.js","webpack:///./src/components/search.js","webpack:///./src/components/blockstackProfile.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/app/services/blockstack.js","webpack:///./node_modules/@material-ui/core/esm/ListItemAvatar/ListItemAvatar.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/seo.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/model.js","webpack:///./src/components/userCommentDialog.js"],"names":["AppComment","state","rating","userUpdate","userData","comments","visibility","privateComments","loadingComments","loadingPrivateComments","loadingData","handleChangeVisibility","event","_this","setState","target","value","handleCloseUpdate","window","location","replace","origin","handleChangeText","e","handleChangeRating","postComment","_callee","_this$state","comment","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","wrap","_context","prev","next","updating","UserComment","object","props","data","apps","website","createdBy","name","PrivateUserComment","save","loadComments","showUpdateDialog","stop","componentDidMount","_this2","this","checkIsSignedIn","then","isSignedIn","getUser","redirectToSignIn","href","_this3","fetchOwnList","sort","render","_this$state2","icon","localFile","childImageSharp","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","gatsby_image__WEBPACK_IMPORTED_MODULE_15___default","fixed","_components_layout__WEBPACK_IMPORTED_MODULE_9__","_components_seo__WEBPACK_IMPORTED_MODULE_17__","title","description","keywords","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_10__","container","alignItems","spacing","item","_material_ui_core__WEBPACK_IMPORTED_MODULE_12__","variant","align","_material_ui_core__WEBPACK_IMPORTED_MODULE_13__","SmallAppDetails","lifetimeEarnings","lastCommit","fields","openSourceUrl","hideRewards","showSourceLink","UserCommentDialog","Component","query","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","StaticQueryDataRenderer","_ref","staticQueryData","finalData","Fragment","children","Consumer","propTypes","PropTypes","string","isRequired","func","numberFormat","Intl","NumberFormat","style","currency","commitFormat","DateTimeFormat","year","month","earnings","format","lastUpdate","lastCommitDate","Date","parse","isNaN","react__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_4__","component","color","App","_ref2","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","dense","button","hideDetailsLink","onClick","navigate","appcoid","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","gatsby_image__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_icons_Apps__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","primary","secondary","length","_material_ui_core__WEBPACK_IMPORTED_MODULE_9__","_material_ui_core__WEBPACK_IMPORTED_MODULE_10__","edge","aria-label","_material_ui_icons_Launch__WEBPACK_IMPORTED_MODULE_12___default","_interopRequireDefault","require","Object","defineProperty","exports","default","_react","_default","Search","_Component","call","getOrCreateIndex","index","Index","load","searchIndex","search","evt","results","expand","map","ref","documentStore","getDoc","react_default","gatsby_browser_entry","type","onChange","placeholder","List","page","appNodes","allApps","edges","filter","node","gatsby_image_default","width","height","ListItem","key","id","to","fontWeight","textDecoration","Grid","xs","Typography","category","_1693737245","BlockstackProfile","isLoading","signedIn","signIn","avatars","avatar","profile","image","i","contentUrl","Avatar","alt","username","src","cursor","marginBottom","navigateTo","AccountBox_default","dist","Header","siteTitle","siteDescription","siteSearchIndex","hideSearch","Container","background","paddingTop","sm","search_Search","blockstackProfile","defaultProps","Layout","header","site","siteMetadata","margin","maxWidth","padding","fontSize","getFullYear","getApiServer","_2239313339","appConfig","AppConfig","uSession","UserSession","configure","apiServer","process","userSession","getConfig","isBrowser","isUserSignedIn","loadUserData","handleLogin","callback","console","log","isSignInPending","handlePendingSignIn","User","createWithCurrentUser","redirectUri","Promise","resolve","logout","GroupMembership","clearStorage","signUserOut","encryptContent","message","loadMyData","getFile","content","JSON","saveMyData","putFile","stringify","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2__","clsx__WEBPACK_IMPORTED_MODULE_4__","_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__","_List_ListContext__WEBPACK_IMPORTED_MODULE_6__","ListItemAvatar","forwardRef","classes","className","other","_objectWithoutProperties","context","useContext","ListContext","_extends","clsx","root","alignItemsFlexStart","withStyles","minWidth","flexShrink","marginTop","m","module","SEO","lang","meta","siteMetaData","useSiteMetaData","metaDescription","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","property","author","concat","join","array","arrayOf","_public_static_d_1582510487_json__WEBPACK_IMPORTED_MODULE_0__","ProdPageRenderer","pageResources","InternalPageRenderer","assign","json","shape","pathname","ModelExt","fetchOwnPrivateList","models","Set","modelName","listFiles","startsWith","add","substring","savePrivately","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","reject","now","encrypted","beforeSave","getTime","attrs","createdAt","updatedAt","sign","sent","saveFile","t0","_x","_x2","apply","arguments","Model","_ModelExt","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_11___default","schema","String","decrypted","Number","OwnerComment","_ModelExt2","verified","Boolean","defaults","_ModelExt3","publicRef","DraftOwnerComment","_ModelExt4","saveUserComment","_callee2","commentText","currentComment","updatedComment","_context2","destroy","update","_x3","_x4","_x5","savePrivateUserComment","_ref3","_callee3","_context3","_x6","_x7","_x8","saveOwnerComment","_ref4","_callee4","_context4","_x9","_x10","saveDraftOwnerComment","_ref5","_callee5","_context5","_x11","_x12","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","material_ui_rating__WEBPACK_IMPORTED_MODULE_12__","material_ui_rating__WEBPACK_IMPORTED_MODULE_12___default","open","onClose","aria-labelledby","control","label","fullWidth","multiline","rows","helperText","size"],"mappings":"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","file":"component---src-templates-appco-comment-js-6bca7d845f481b8eac90.js","sourcesContent":["import React, { Component } from 'react'\nimport { graphql, navigate } from 'gatsby'\nimport Layout from '../components/layout'\nimport Grid from '@material-ui/core/Grid'\nimport styled from 'styled-components'\nimport {\n  getUser,\n  checkIsSignedIn,\n  redirectToSignIn,\n} from '../app/services/blockstack'\nimport {\n  Container,\n  Typography,\n} from '@material-ui/core'\n\nimport {\n  UserComment,\n  PrivateUserComment,\n} from '../components/model'\nimport Img from 'gatsby-image'\nimport UserCommentDialog from '../components/userCommentDialog'\nimport SEO from '../components/seo'\nimport { SmallAppDetails } from '../components/app'\n\n\nclass AppComment extends Component {\n  state = {\n    rating: 0,\n    userUpdate: '',\n    userData: null,\n    comments: [],\n    visibility: 'private',\n    privateComments: [],\n    loadingComments: false,\n    loadingPrivateComments: false,\n    loadingData: true,\n  }\n\n  componentDidMount() {\n    checkIsSignedIn().then(isSignedIn => {\n      if (isSignedIn) {\n        this.setState({\n          isSignedIn: true,\n          userData: getUser(),\n        })\n        this.loadComments()\n      } else {\n        redirectToSignIn(window.location.href)\n        this.setState({ isSignedIn: false })\n      }\n    })\n  }\n\n  loadComments() {\n    const { data } = this.props\n    this.setState({\n      loadingComments: true,\n      loadingPrivateComments: true,\n    })\n    UserComment.fetchOwnList({\n      object: data.apps.website,\n      sort: '-createdAt',\n    }).then(comments => {\n      this.setState({\n        comments,\n        loadingComments: false,\n        loadingData: this.state.loadingPrivateComments,\n      })\n    })\n    PrivateUserComment.fetchOwnList({\n      object: data.apps.website,\n      sort: '-createdAt',\n    }).then(privateComments => {\n      this.setState({\n        privateComments,\n        loadingPrivateComments: false,\n        loadingData: this.state.loadingComments,\n      })\n    })\n  }\n\n  handleChangeVisibility = event => {\n    this.setState({ visibility: event.target.value })\n  }\n\n  handleCloseUpdate = () => {    \n      window.location.replace(window.location.origin + \"/comment-thanks\")  \n  }\n\n  handleChangeText = e => {\n    this.setState({ userUpdate: e.target.value })\n  }\n\n  handleChangeRating = value => {\n    this.setState({ rating: value })\n  }\n\n  postComment = async () => {\n    this.setState({ updating: true })\n    const { userUpdate, visibility, userData, rating } = this.state\n    const comment =\n      visibility === 'public'\n        ? new UserComment({\n            comment: userUpdate,\n            rating,\n            object: this.props.data.apps.website,\n            createdBy: userData.name,\n          })\n        : new PrivateUserComment({\n            comment: userUpdate,\n            rating,\n            object: this.props.data.apps.website,\n          })\n    await comment.save()\n    await this.loadComments()\n    this.setState({ showUpdateDialog: false, updating: false })\n  }\n\n  render() {\n    const { data } = this.props\n    const { visibility, rating, userUpdate, comments, updating } = this.state\n\n    const icon =\n      data.apps.localFile && data.apps.localFile.childImageSharp ? (\n        <Img fixed={data.apps.localFile.childImageSharp.fixed} />\n      ) : null\n    return (\n      <Layout>\n        <SEO\n          title={data.apps.name}\n          description={data.apps.description}\n          keywords={[data.apps.name, `application`, `blockstack`]}\n        />\n        <Grid container alignItems=\"center\" spacing={2}>\n          <Grid item>{icon}</Grid>\n          <Grid item>\n            <Typography variant=\"h3\" align=\"center\">\n              {data.apps.name}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Container>\n          {SmallAppDetails({\n            description: data.apps.description,\n            lifetimeEarnings: data.apps.lifetimeEarnings,\n            lastCommit: data.apps.fields && data.apps.fields.lastCommit,\n            openSourceUrl: data.apps.openSourceUrl,\n            hideRewards: false,\n            showSourceLink: true,\n          })}\n        </Container>\n\n        {UserCommentDialog({\n          userUpdate,\n          showUpdateDialog: true,\n          updating,\n          visibility,\n          rating,\n          handleCloseUpdate: this.handleCloseUpdate,\n          handleChangeVisibility: this.handleChangeVisibility,\n          handleChangeText: this.handleChangeText,\n          handleChangeRating: this.handleChangeRating,\n          postComment: this.postComment,\n        })}\n        <hr />\n      </Layout>\n    )\n  }\n}\n\nexport const query = graphql`\n  query($appcoid: Int) {\n    apps(id__normalized: { eq: $appcoid }) {\n      ...AppInformation\n      localFile {\n        childImageSharp {\n          fixed(width: 80, height: 80) {\n            ...GatsbyImageSharpFixed\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default AppComment\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React from 'react'\nimport { graphql, navigate } from 'gatsby'\nimport {\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  ListItemAvatar,\n  Avatar,\n  Typography,\n  IconButton,\n} from '@material-ui/core'\nimport AppIcon from '@material-ui/icons/Apps'\nimport GetAppIcon from '@material-ui/icons/Launch'\nimport Img from 'gatsby-image'\n\nexport const numberFormat = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n})\nexport const commitFormat = new Intl.DateTimeFormat('en-US', {\n  year: 'numeric',\n  month: 'long',\n})\n\nexport const SmallAppDetails = ({\n  description,\n  lifetimeEarnings,\n  lastCommit,\n  openSourceUrl,\n  showSourceLink,\n  hideRewards,\n}) => {\n  const earnings = numberFormat.format(lifetimeEarnings)\n  var lastUpdate = ''\n  if (openSourceUrl) {\n    const lastCommitDate = Date.parse(lastCommit)\n    if (isNaN(lastCommitDate)) {\n      lastUpdate = lastCommit\n    } else {\n      lastUpdate = commitFormat.format(lastCommitDate)\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\n        {description}\n        {showSourceLink && openSourceUrl && (\n          <>\n            <br />\n            <a href={openSourceUrl}>{openSourceUrl}</a>\n          </>\n        )}\n      </Typography>\n      <Typography component=\"span\" variant=\"body2\">\n        {!hideRewards && (\n          <>\n            <br />\n            rewards: {earnings}{' '}\n          </>\n        )}\n        {showSourceLink && openSourceUrl && (\n          <>\n            <br />\n            last update: {lastUpdate}\n          </>\n        )}\n      </Typography>\n    </React.Fragment>\n  )\n}\n\nconst App = ({ data, hideRewards, showSourceLink }) => {\n  return (\n    <ListItem\n      dense\n      alignItems=\"flex-start\"\n      button={!data.hideDetailsLink}\n      onClick={() => {\n        if (!data.hideDetailsLink) {\n          navigate(`/appco/${data.appcoid}`)\n        }\n      }}\n    >\n      {data.localFile && data.localFile.childImageSharp && (\n        <ListItemAvatar>\n          <Avatar>\n            <Img fixed={data.localFile.childImageSharp.fixed} />\n          </Avatar>\n        </ListItemAvatar>\n      )}\n      {(!data.localFile || !data.localFile.childImageSharp) && (\n        <ListItemAvatar>\n          <Avatar>\n            <AppIcon />\n          </Avatar>\n        </ListItemAvatar>\n      )}\n\n      <ListItemText\n        primary={<b>{data.name}</b>}\n        secondary={SmallAppDetails({\n          description: data.description,\n          lifetimeEarnings: data.lifetimeEarnings,\n          lastCommit: data.fields && data.fields.lastCommit,\n          openSourceUrl: data.openSourceUrl,\n          hideRewards,\n          showSourceLink,\n        })}\n      />\n\n      {!data.hideDetailsLink && data.website && data.website.length > 0 && (\n        <ListItemSecondaryAction>\n          <IconButton edge=\"end\" aria-label=\"Launch\">\n            <a href={data.website}>\n              <GetAppIcon />\n            </a>\n          </IconButton>\n        </ListItemSecondaryAction>\n      )}\n    </ListItem>\n  )\n}\n\nexport const query = graphql`\n  fragment AppInformation on apps {\n    appcoid: id__normalized\n    name\n    website\n    lifetimeEarnings\n    openSourceUrl\n    fields {\n      lastCommit\n    }\n    description\n  }\n\n  fragment AppIcon on apps {\n    localFile {\n      childImageSharp {\n        fixed(width: 24, height: 24) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n  }\n`\n\nexport default App\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z\"\n}), 'Apps');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'Launch');\n\nexports.default = _default;","import React, { Component } from 'react'\nimport { Index } from 'elasticlunr'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport { List, ListItem, Typography, Grid } from '@material-ui/core'\nimport Img from 'gatsby-image'\n// Search component\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: ``,\n      results: [],\n    }\n  }\n\n  render() {\n    return (\n      <StaticQuery\n        query={graphql`\n          query SearchQuery {\n            allApps {\n              edges {\n                node {\n                  appcoid: id__normalized\n                  localFile {\n                    id\n                    childImageSharp {\n                      fixed(width: 24, height: 24) {\n                        ...GatsbyImageSharpFixed\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => {\n          return (\n            <div>\n              <input\n                type=\"text\"\n                value={this.state.query}\n                onChange={this.search}\n                placeholder=\"Search apps by name, ..\"\n              />\n              <List>\n                {this.state.results.map(page => {\n                  const appNodes = data.allApps.edges.filter(\n                    e => e.node.appcoid === page.appcoid\n                  )\n                  const icon =\n                    appNodes.length > 0 &&\n                    appNodes[0].node.localFile &&\n                    appNodes[0].node.localFile.childImageSharp ? (\n                      <Img\n                        fixed={appNodes[0].node.localFile.childImageSharp.fixed}\n                      />\n                    ) : (\n                      <div width=\"24px\" height=\"24px\" />\n                    )\n                  return (\n                    <ListItem key={page.id}>\n                      <Link\n                        to={'/appco/' + page.appcoid}\n                        style={{\n                          color: `white`,\n                          fontWeight: 'bold',\n                          textDecoration: `none`,\n                        }}\n                      >\n                        <Grid container>\n                          <Grid item xs={1}>\n                            {icon}\n                          </Grid>\n                          <Grid item xs={11}>\n                            <Typography>\n                              <b>{page.name}</b>\n                              {': ' + page.category} {' : ' + page.description}\n                            </Typography>\n                          </Grid>\n                        </Grid>\n                      </Link>\n                    </ListItem>\n                  )\n                })}\n              </List>\n            </div>\n          )\n        }}\n      />\n    )\n  }\n  getOrCreateIndex = () =>\n    this.index\n      ? this.index\n      : // Create an elastic lunr index and hydrate with graphql query results\n        Index.load(this.props.searchIndex)\n\n  search = evt => {\n    const query = evt.target.value\n    this.index = this.getOrCreateIndex()\n    this.setState({\n      query,\n      // Query the index with search string to get an [] of IDs\n      results: this.index\n        .search(query, { expand: true })\n        // Map over each ID and return the full document\n        .map(({ ref }) => this.index.documentStore.getDoc(ref)),\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  getUser,\n  redirectToSignIn,\n  checkIsSignedIn,\n} from '../app/services/blockstack'\nimport { Avatar } from '@material-ui/core'\nimport AccountIcon from '@material-ui/icons/AccountBox'\nimport { BlockstackButton } from 'react-blockstack-button'\nimport { navigateTo } from 'gatsby'\n\nclass BlockstackProfile extends Component {\n  state = {\n    isSignedIn: false,\n    isLoading: true,\n  }\n\n  componentDidMount() {\n    checkIsSignedIn().then(signedIn => {\n      this.setState({ isSignedIn: signedIn, userData: getUser() })\n    })\n  }\n\n  signIn() {\n    redirectToSignIn()\n  }\n\n  render() {\n    const { isSignedIn, userData } = this.state\n    if (isSignedIn) {\n      let avatars, avatar\n      if (userData.profile && userData.profile.image) {\n        avatars = userData.profile.image.filter(i => i.name === 'avatar')\n      }\n      if (avatars && avatars.length > 0) {\n        avatar = avatars[0].contentUrl\n      }\n      if (avatar) {\n        return (\n          <Avatar\n            alt={userData.username}\n            src={avatar}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n            onClick={() => navigateTo('data')}\n          />\n        )\n      } else {\n        return (\n          <Avatar\n            onClick={() => navigateTo('data')}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n          >\n            <AccountIcon />\n          </Avatar>\n        )\n      }\n    } else {\n      return <BlockstackButton variant=\"light\" onClick={() => this.signIn()} />\n    }\n  }\n}\n\nexport default BlockstackProfile\n","import { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Search from './search'\nimport BlockstackProfile from './blockstackProfile'\nimport { Container, Typography, Grid } from '@material-ui/core'\n\nconst Header = ({\n  siteTitle,\n  siteDescription,\n  siteSearchIndex,\n  hideSearch,\n}) => (\n  <Container\n    style={{\n      background: '#3f51b5',\n      paddingTop: 1.45 + `rem`,\n      color: 'white',\n    }}\n  >\n    <Grid container>\n      <Grid item sm={8} xs={12}>\n        <Typography variant=\"h3\">\n          <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n            {siteTitle}\n          </Link>\n        </Typography>\n        <Typography variant=\"body2\">{siteDescription}</Typography>\n        {!hideSearch && <Search searchIndex={siteSearchIndex.index} />}\n      </Grid>\n      <Grid item sm={4} xs={12}>\n        <BlockstackProfile />\n      </Grid>\n    </Grid>\n  </Container>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n  siteDescription: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport './layout.css'\nimport { Typography } from '@material-ui/core'\nimport { getApiServer } from '../app/services/blockstack'\n\nexport const styles = {\n  smallIcon: {\n    width: 27,\n    height: 27,\n  },\n}\n\nconst Layout = ({ children, hideSearch }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteHeaderQuery {\n        site {\n          siteMetadata {\n            title\n            description\n          }\n        }\n        siteSearchIndex {\n          index\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header\n          siteTitle={data.site.siteMetadata.title}\n          siteDescription={data.site.siteMetadata.description}\n          siteSearchIndex={data.siteSearchIndex}\n          hideSearch={hideSearch}\n        />\n        <div\n          style={{\n            margin: `0 auto`,\n            maxWidth: 960,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n          }}\n        >\n          {children}\n          <footer>\n            <Typography variant=\"body2\" style={{ fontSize: 'small' }}>\n              © {new Date().getFullYear()}, Built with\n              {` `}\n              <a href=\"https://www.gatsbyjs.org\">Gatsby</a> and{' '}\n              <a href=\"https://blockstack.org\">Blockstack</a>. You can{' '}\n              <a href=\"https://gitlab.com/friedger/app-center\">\n                view the source here\n              </a>\n              <br />\n              Radiks Server: {getApiServer()}\n            </Typography>\n          </footer>\n        </div>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import { UserSession, AppConfig } from 'blockstack'\nimport { configure, getConfig, User, GroupMembership } from 'radiks'\n\n// helpful for debugging\nconst logAuth = process.env.NODE_ENV === 'development' && true // set to true to turn on logging\nconst clog = (...args) => logAuth && console.log(...args)\n// helpful for debugging\n\nconst appConfig = new AppConfig(\n  ['store_write', 'publish_data'],\n  typeof window !== 'undefined'\n    ? window.location.origin\n    : 'http://localhost:8000',\n  '/data',\n  '/manifest.webmanifest'\n)\nconst uSession = new UserSession({ appConfig })\n\nconfigure({\n  apiServer: process.env.GATSBY_RADIKS_SERVER || 'http://localhost:1260',\n  userSession: uSession,\n})\n\nexport const getApiServer = () => getConfig().apiServer\n\nexport const getPersonalKey = () => JSON.stringify(User.currentUser())\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport const getUser = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n    ? userSession.loadUserData()\n    : {}\n}\n\nexport const isSignedIn = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n}\n\nexport const handleLogin = callback => {\n  const { userSession } = getConfig()\n  console.log('handleLogin')\n  clog('isLoggedIn check', userSession.isUserSignedIn())\n  if (userSession.isUserSignedIn()) {\n    clog('logged in')\n    callback(getUser())\n  } else if (userSession.isSignInPending()) {\n    userSession.handlePendingSignIn().then(userData => {\n      User.createWithCurrentUser().then(() => {\n        console.log('user created')\n        callback(userData)\n      })\n    })\n  } else {\n    userSession.redirectToSignIn()\n  }\n}\n\nexport const redirectToSignIn = (redirectUri) => {\n  const { userSession } = getConfig()  \n  userSession.redirectToSignIn(redirectUri)\n}\n\nexport const checkIsSignedIn = () => {\n  if (!isBrowser()) {\n    clog('Not a browser')\n    return Promise.resolve(false)\n  }\n  const { userSession } = getConfig()\n  if (userSession.isSignInPending()) {\n    return userSession\n      .handlePendingSignIn()\n      .then(() => User.createWithCurrentUser().then(() => true))\n  } else if (userSession.isUserSignedIn()) {\n    return Promise.resolve(true)\n  } else {\n    clog('isLoggedIn check - nothing')\n    return Promise.resolve(false)\n  }\n}\n\nexport const logout = callback => {\n  const { userSession } = getConfig()\n  GroupMembership.clearStorage()\n  userSession.signUserOut('/data/')\n  callback()\n}\n\nexport const encryptContent = message => {\n  const { userSession } = getConfig()\n  console.log('encrypting ' + message)\n  return userSession.encryptContent(message)\n}\n\nexport const loadMyData = () => {\n  const { userSession } = getConfig()\n  return userSession.getFile('content').then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveAppData = (identifier, content) => {\n  const { userSession } = getConfig()\n  return userSession.putFile(`apps/${identifier}`, JSON.stringify(content))\n}\n\nexport const loadAppData = identifier => {\n  const { userSession } = getConfig()\n  return userSession.getFile(`apps/${identifier}`).then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveMyData = content => {\n  const { userSession } = getConfig()\n  return userSession.putFile('content', JSON.stringify(content))\n}\n\nexport const postUserUpdate = async (visibility, userComment) => {\n  if (visibility === 'public') {\n    await userComment.save()\n  } else if (visibility === 'private') {\n    await userComment.savePrivately()\n  } else if (visibility === 'devs') {\n    throw new Error('not yet implemented')\n  }\n\n  return null\n}\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListContext from '../List/ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    minWidth: 56,\n    flexShrink: 0\n  },\n\n  /* Styles applied to the root element when the parent `ListItem` uses `alignItems=\"flex-start\"`. */\n  alignItemsFlexStart: {\n    marginTop: 8\n  }\n};\n/**\n * A simple wrapper to apply `List` styles to an `Avatar`.\n */\n\nvar ListItemAvatar = React.forwardRef(function ListItemAvatar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  var context = React.useContext(ListContext);\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, context.alignItems === 'flex-start' && classes.alignItemsFlexStart),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemAvatar.propTypes = {\n  /**\n   * The content of the component – normally `Avatar`.\n   */\n  children: PropTypes.element.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemAvatar'\n})(ListItemAvatar);","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { graphql, useStaticQuery } from 'gatsby'\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const siteMetaData = useSiteMetaData()\n  const metaDescription = description || siteMetaData.description\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${siteMetaData.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: siteMetaData.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n                name: `keywords`,\n                content: keywords.join(`, `),\n              }\n            : []\n        )\n        .concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  keywords: [],\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n\nconst useSiteMetaData = () => {\n  const { site } = useStaticQuery(graphql`\n    query DefaultSEOQuery {\n      site {\n        siteMetadata {\n          title\n          description\n          author\n        }\n      }\n    }\n  `)\n  return site.siteMetadata\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { Model, getConfig } from 'radiks'\n\nclass ModelExt extends Model {\n  static fetchOwnPrivateList() {\n    const { userSession } = getConfig()\n    const models = new Set()\n    const modelName = this.modelName()\n    return userSession\n      .listFiles(name => {\n        if (name.startsWith(modelName)) {\n          models.add(name.substring(modelName.length + 1))\n        }\n        return true\n      })\n      .then(() => {\n        console.log(models)\n        return models\n      })\n  }\n\n  savePrivately() {\n    return new Promise(async (resolve, reject) => {\n      try {\n        if (this.beforeSave) {\n          await this.beforeSave()\n        }\n        const now = new Date().getTime()\n        this.attrs.createdAt = this.attrs.createdAt || now\n        this.attrs.updatedAt = now\n        await this.sign()\n        const encrypted = await this.encrypted()\n        await this.saveFile(encrypted)\n        resolve(this)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n}\nexport class UserComment extends ModelExt {\n  static className = 'UserComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    rating: {\n      type: Number,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n  }\n}\n\nexport class OwnerComment extends ModelExt {\n  static className = 'OwnerComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n    verified: {\n      type: Boolean,\n      decrypted: true,\n    },\n  }\n  static defaults = {\n    verified: false,\n  }\n}\n\nexport class PrivateUserComment extends ModelExt {\n  static className = 'PrivateUserComment'\n  static schema = {\n    object: String,\n    rating: Number,\n    comment: String,    \n    publicRef: String,\n  }\n}\n\nexport class DraftOwnerComment extends ModelExt {\n  static className = 'PrivateOwnerComment'\n  static schema = {\n    object: String,\n    comment: String,\n    publicRef: String,\n  }\n}\n\nexport const saveUserComment = async (commentText, rating, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === PrivateUserComment.modelName()) {\n    updatedComment = new UserComment({\n      object: currentComment.attrs.object,\n      rating,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      rating,\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const savePrivateUserComment = async (\n  commentText,\n  rating,\n  currentComment\n) => {\n  let updatedComment\n  if (currentComment.modelName() === UserComment.modelName()) {\n    updatedComment = new PrivateUserComment({\n      object: currentComment.attrs.object,\n      rating,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      rating,\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const saveOwnerComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === DraftOwnerComment.modelName()) {\n    updatedComment = new OwnerComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const saveDraftOwnerComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === OwnerComment.modelName()) {\n    updatedComment = new DraftOwnerComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n","import React from 'react'\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  TextField,\n  DialogActions,\n  Button,\n  CircularProgress,\n} from '@material-ui/core'\nimport Rating from 'material-ui-rating'\n\nconst UserCommentDialog = ({\n  userUpdate,\n  showUpdateDialog,\n  updating,\n  visibility,\n  rating,\n  handleCloseUpdate,\n  handleChangeVisibility,\n  handleChangeText,\n  handleChangeRating,\n  postComment,\n}) => {\n  return (\n    <Dialog\n      open={showUpdateDialog}\n      onClose={() => handleCloseUpdate()}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Add Comment</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Comments can be shown to either all users publicly or kept privately.\n        </DialogContentText>\n\n        <RadioGroup\n          aria-label=\"Visibility\"\n          name=\"visibility\"\n          value={visibility}\n          onChange={e => handleChangeVisibility(e)}\n        >\n          <FormControlLabel\n            value=\"public\"\n            control={<Radio />}\n            label=\"Visible for all\"\n          />\n\n          <FormControlLabel\n            value=\"private\"\n            control={<Radio />}\n            label=\"Visible only for me\"\n          />\n        </RadioGroup>\n        <Rating\n          onChange={(value) => handleChangeRating(value)}\n          value={rating}\n        />\n        <TextField\n          margin=\"normal\"\n          id=\"userUpdate\"\n          type=\"text\"\n          fullWidth\n          multiline\n          rows=\"3\"\n          helperText=\"What did you like or dislike?\"\n          variant=\"outlined\"\n          value={userUpdate}\n          onChange={e => handleChangeText(e)}\n        />\n      </DialogContent>\n      <DialogActions>\n        {updating && <CircularProgress size={24} />}\n\n        <Button onClick={() => handleCloseUpdate()} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={() => postComment()} color=\"primary\">\n          Post\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default UserCommentDialog\n"],"sourceRoot":""}