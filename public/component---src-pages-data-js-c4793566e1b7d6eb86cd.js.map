{"version":3,"sources":["webpack:///./src/app/components/NavBar.js","webpack:///./src/app/components/AppSelector.js","webpack:///./src/app/myapps.js","webpack:///./src/app/main.js","webpack:///./src/app/components/PrivateRoute.js","webpack:///./src/app/login.js","webpack:///./src/app/mycomments.js","webpack:///./src/app/app.js","webpack:///./src/pages/data.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/search.js","webpack:///./src/components/blockstackProfile.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/app/services/blockstack.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/model.js","webpack:///./src/components/userCommentDialog.js","webpack:///./src/components/ownerCommentDialog.js"],"names":["NavBar","state","checking","signedIn","componentDidMount","checkIsSignedIn","then","_this","setState","render","content","message","login","_this$state","this","user","getUser","name","profile","username","decentralizedId","react_default","a","createElement","style","display","flex","justifyContent","borderBottom","backgroundColor","Typography","component","gatsby_browser_entry","to","href","onClick","event","preventDefault","logout","navigate","React","Component","StyledRoot","styled","div","withConfig","displayName","componentId","AppSelector","_ref","myApps","onSubmitApps","console","log","data","_3630975111","Fragment","formik_esm","initialValues","validate","values","onSubmit","_ref3","setSubmitting","finally","_ref2","i","app","handleChange","errors","touched","handleBlur","handleSubmit","isSubmitting","apps","allApps","edges","node","push","key","type","onChange","onBlur","checked","appcoid","id","htmlFor","Button","variant","disabled","MyApps","loading","_this2","loadMyData","saveMyApps","saveMyData","_this3","components_AppSelector","Main","myComments","myUpdates","loadingApps","loadingComments","loadingUpdates","User","createWithCurrentUser","UserComment","fetchOwnList","OwnerComment","handleClick","encryptedMessage","encryptContent","target","value","renderApps","Object","keys","forEach","appEditLink","substr","filter","edge","toString","ListItem","ListItemText","primary","List","renderComments","comments","length","c","e","website","attrs","object","_id","comment","secondary","renderUpdates","updates","String","query","_230829525","PrivateRoute","location","props","pathname","search","startsWith","_this$props","rest","objectWithoutPropertiesLoose_default","Login","handleLogin","Container","Link","Divider","light","MyComments","myPrivateComments","myDraftUpdates","showUpdateDialog","showCommentDialog","userUpdate","currentVisibility","updating","handleChangeVisibility","handleCloseUpdate","postComment","_callee","currentComment","regenerator_default","wrap","_context","prev","next","saveUserComment","savePrivateUserComment","loadComments","stop","postUpdate","_callee2","_this$state2","_context2","saveOwnerComment","saveDraftUpdate","_callee3","_this$state3","_context3","saveDraftOwnerComment","handleChangeText","PrivateUserComment","DraftOwnerComment","visibility","modelName","includes","asComment","handleDeleteClick","item","destroy","_this4","secondaryText","button","ListItemSecondaryAction","IconButton","aria-label","Delete_default","_this5","_this$state4","UserCommentDialog","OwnerCommentDialog","_3281459157","PublicRoute","children","App","layout","NavBar_NavBar","es","components_PrivateRoute","path","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","StaticQueryDataRenderer","staticQueryData","finalData","Consumer","propTypes","PropTypes","string","isRequired","func","Search","_Component","call","getOrCreateIndex","index","Index","load","searchIndex","evt","results","expand","map","ref","documentStore","getDoc","placeholder","page","appNodes","icon","localFile","childImageSharp","gatsby_image_default","fixed","width","height","color","fontWeight","textDecoration","Grid","container","xs","category","description","_1693737245","BlockstackProfile","isSignedIn","isLoading","userData","signIn","redirectToSignIn","avatars","avatar","image","contentUrl","Avatar","alt","src","cursor","marginBottom","navigateTo","AccountBox_default","dist","Header","siteTitle","siteDescription","siteSearchIndex","background","paddingTop","sm","search_Search","blockstackProfile","defaultProps","Layout","header","site","siteMetadata","title","margin","maxWidth","padding","fontSize","Date","getFullYear","getApiServer","_2239313339","appConfig","AppConfig","window","origin","uSession","UserSession","configure","apiServer","process","GATSBY_RADIKS_SERVER","userSession","getConfig","isBrowser","isUserSignedIn","loadUserData","callback","isSignInPending","handlePendingSignIn","Promise","resolve","GroupMembership","clearStorage","signUserOut","getFile","JSON","parse","loadAppData","identifier","putFile","stringify","m","module","exports","require","default","ProdPageRenderer","pageResources","InternalPageRenderer","assign","json","shape","ModelExt","fetchOwnPrivateList","models","Set","listFiles","add","substring","savePrivately","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","reject","now","encrypted","beforeSave","getTime","createdAt","updatedAt","sign","sent","saveFile","t0","_x","_x2","apply","arguments","Model","_ModelExt","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_10___default","className","schema","decrypted","createdBy","_ModelExt2","verified","Boolean","defaults","_ModelExt3","publicRef","_ModelExt4","commentText","updatedComment","update","save","_x3","_x4","_x5","_x6","_ref4","_callee4","_context4","_x7","_x8","_ref5","_callee5","_context5","_x9","_x10","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core__WEBPACK_IMPORTED_MODULE_9__","_material_ui_core__WEBPACK_IMPORTED_MODULE_10__","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","open","onClose","aria-labelledby","control","label","fullWidth","multiline","rows","helperText","size"],"mappings":"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","file":"component---src-pages-data-js-c4793566e1b7d6eb86cd.js","sourcesContent":["import React from 'react'\nimport { Link, navigate } from 'gatsby'\nimport { getUser, checkIsSignedIn, logout } from '../services/blockstack'\nimport { Typography } from '@material-ui/core'\n\nexport default class NavBar extends React.Component {\n  state = { checking: true, signedIn: false }\n  componentDidMount = () => {\n    checkIsSignedIn().then(signedIn =>\n      this.setState({ checking: false, signedIn })\n    )\n  }\n\n  render() {\n    const content = { message: '', login: true }\n    const { checking, signedIn } = this.state\n    if (checking) {\n      content.message = 'stacking blocks...'\n    } else if (signedIn) {\n      const user = getUser()\n      let name = user.profile && user.profile.name\n      if (!name) {\n        name = user.username\n      }\n      if (!name) {\n        name = user.decentralizedId\n      }\n      content.message = `Hello, ${name} (${user.username})`\n    } else {\n      content.message = 'You are not logged in'\n    }\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flex: '1',\n          justifyContent: 'space-between',\n          borderBottom: '1px solid #d1c1e0',\n          backgroundColor: 'aliceblue',\n        }}\n      >\n        <Typography component=\"span\">{content.message}</Typography>\n\n        <nav>\n          <Typography>\n            <Link to=\"/data/\">Overview</Link>\n            {` `}\n            <Link to=\"/data/comments\">My Comments</Link>\n            {` `}\n            <Link to=\"/data/apps\">My Apps</Link>\n            {` `}\n            {signedIn ? (\n              <a\n                href=\"/data/login\"\n                onClick={event => {\n                  event.preventDefault()\n                  logout(() => navigate(`/data/login`))\n                }}\n              >\n                Logout\n              </a>\n            ) : (\n              <Link to=\"/data/login\">Login</Link>\n            )}\n          </Typography>\n        </nav>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport { Formik } from 'formik'\nimport { Button } from '@material-ui/core';\n\nconst StyledRoot = styled.div`\n  flexgrow: 1;\n`\n\nconst AppSelector = ({myApps, onSubmitApps}) => {\n  console.log({myApps, onSubmitApps})\n  const data = useStaticQuery(graphql`\n    query AppsQuery {\n      allApps(sort: { fields: [name] }) {\n        edges {\n          node {\n            ...AppInformation\n          }\n        }\n      }\n    }\n  `)\n\n  const appSelectionForm = ({\n    values,\n    errors,\n    touched,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting,\n  }) => {\n    const apps = []\n    let i, app\n    for (i in data.allApps.edges) {\n      app = data.allApps.edges[i].node\n      apps.push(\n        <div key={i}>\n          <input\n            type=\"checkbox\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            checked={values[`app-${app.appcoid}`] || false}\n            id={app.appcoid}\n            name={`app-${app.appcoid}`}\n          />\n          <label htmlFor={app.appcoid}>{app.name}</label>\n        </div>\n      )\n    }\n\n    return (\n      <form onSubmit={handleSubmit}>\n        {apps}\n        <Button variant=\"outlined\" type=\"submit\" disabled={isSubmitting}>\n          Save\n        </Button>\n      </form>\n    )\n  }\n  return (\n    <>\n      <h1>Your app(s)</h1>\n      <StyledRoot>\n        <Formik\n          initialValues={myApps}\n          validate={values => {\n            let errors = {}\n            return errors\n          }}\n          onSubmit={(values, { setSubmitting }) => {\n            onSubmitApps(values).finally(()=> {\n              setSubmitting(false)\n            })\n          }}\n        >\n          {appSelectionForm}\n        </Formik>\n      </StyledRoot>\n      <hr />\n    </>\n  )\n}\n\nexport default AppSelector\n","import React from 'react'\nimport { saveMyData, loadMyData } from './services/blockstack'\nimport AppSelector from './components/AppSelector'\n\nclass MyApps extends React.Component {\n  state = {\n    myApps: {},\n    loading: true,\n  }\n\n  componentDidMount() {\n    loadMyData().then(content => {\n      this.setState({ myApps: content.myApps, loading: false })\n    })\n  }\n\n  saveMyApps(values) {\n    return saveMyData({ myApps: values })\n  }\n\n  render() {\n    const { myApps, loading } = this.state\n\n    return (\n      <>\n        {loading && <>Loading...</>}\n        {!loading && (\n          <AppSelector\n            myApps={myApps}\n            onSubmitApps={values => this.saveMyApps(values)}\n          />\n        )}\n      </>\n    )\n  }\n}\n\nexport default MyApps\n","import React from 'react'\nimport { graphql, Link, StaticQuery } from 'gatsby'\nimport { encryptContent, loadMyData } from './services/blockstack'\nimport { UserComment, OwnerComment } from '../components/model'\nimport { Typography, ListItem, ListItemText, List } from '@material-ui/core'\nimport { User } from 'radiks/lib';\n\nclass Main extends React.Component {\n  state = {\n    myApps: {},\n    myComments: [],\n    myUpdates: [],\n    loadingApps: true,\n    loadingComments: true,\n    loadingUpdates: true,\n    loading: true,\n  }\n\n  componentDidMount() {\n    User.createWithCurrentUser().then(() => {\n      loadMyData().then(content => {\n        this.setState({\n          myApps: content.myApps,\n          loadingApps: false,\n          loading: this.state.loadingComments && this.state.loadingUpdates,\n        })\n      })\n      UserComment.fetchOwnList().then(myComments => {\n        this.setState({\n          myComments,\n          loadingComments: false,\n          loading: this.state.loadingApps && this.state.loadingUpdates,\n        })\n      })\n      OwnerComment.fetchOwnList().then(myUpdates => {\n        this.setState({\n          myUpdates,\n          loadingUpdates: false,\n          loading: this.state.loadingApps && this.state.loadingComments,\n        })\n      })\n    })\n  }\n\n  handleClick(event) {\n    const encryptedMessage = encryptContent(this.state.message)\n    this.setState({ encryptedMessage })\n  }\n\n  handleChange(event) {\n    this.setState({ message: event.target.value })\n  }\n\n  renderApps(myApps, data) {\n    const apps = []\n    if (myApps) {\n      Object.keys(myApps).forEach(key => {\n        if (myApps[key]) {\n          const appEditLink = `/appco/${key.substr(4)}`\n          const app = data.allApps.edges.filter(edge => {\n            return edge.node.appcoid.toString() === key.substr(4)\n          })[0].node\n          apps.push(\n            <ListItem key={app.appcoid}>\n              <ListItemText\n                primary={\n                  <>\n                    <Link to={appEditLink}>{app.name}</Link>\n                  </>\n                }\n              />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      apps.push(\n        <ListItem key=\"empty\">\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/data/apps\">Add your apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{apps}</List>\n  }\n\n  renderComments(myComments, data) {\n    const comments = []\n\n    if (myComments && myComments.length > 0) {\n      myComments.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        if (apps.length === 1) {\n          comments.push(\n            <ListItem key={c._id}>\n              <ListItemText\n                primary={<>{c.attrs.comment}</>}\n                secondary={<>For {apps[0].node.name}</>}\n              />\n            </ListItem>\n          )\n        } else {\n          comments.push(\n            <ListItem key={c._id}>\n              <ListItemText primary={<>{c.attrs.comment}</>} />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      comments.push(\n        <ListItem key=\"empty\">\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/appco-foss\">Add comments to a few apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{comments}</List>\n  }\n\n  renderUpdates(myUpdates, data) {\n    const updates = []\n    if (myUpdates) {\n      console.log(myUpdates)\n      myUpdates.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        let comment\n        if (\n          typeof c.attrs.comment === 'string' ||\n          c.attrs.comment instanceof String\n        ) {\n          comment = c.attrs.comment\n        } else {\n          comment = '** Decryption failed. **'\n        }\n        if (apps.length === 1) {\n          updates.push(\n            <ListItem key={c._id}>\n              <ListItemText\n                primary={<>{comment}</>}\n                secondary={<>For {apps[0].node.name}</>}\n              />\n            </ListItem>\n          )\n        } else {\n          updates.push(\n            <ListItem key={c._id}>\n              <ListItemText primary={<>{comment}</>} />\n            </ListItem>\n          )\n        }\n      })\n    } else {\n      updates.push(\n        <ListItem>\n          <ListItemText primary=\"Add updates to your apps\" />\n        </ListItem>\n      )\n    }\n    return <List>{updates}</List>\n  }\n\n  render() {\n    const { myApps, myComments, myUpdates } = this.state\n\n    return (\n      <StaticQuery\n        query={graphql`\n          query MainAppsQuery {\n            allApps(sort: { fields: [name] }) {\n              edges {\n                node {\n                  ...AppInformation\n                }\n              }\n            }\n          }\n        `}\n        render={data => (\n          <>\n            <Typography variant=\"h3\">Overview</Typography>\n            <Typography variant=\"h4\">Your Comments</Typography>\n            {this.renderComments(myComments, data)}\n            <Typography variant=\"h4\">Your Apps</Typography>\n            {this.renderApps(myApps, data)}\n            <Typography variant=\"h4\">Your App Updates</Typography>\n            {this.renderUpdates(myUpdates, data)}\n          </>\n        )}\n      />\n    )\n  }\n}\n\nexport default Main\n","import React from 'react'\nimport { checkIsSignedIn } from '../services/blockstack'\nimport { navigate } from 'gatsby'\n\nclass PrivateRoute extends React.Component {\n  state = {checking:true, signedIn:false}\n\n  componentDidMount = () => {\n    const { location } = this.props\n    checkIsSignedIn().then(signedIn => {\n      if (location.pathname !== `/data/login`) {\n        if (!signedIn) {\n          // If the user is not logged in, redirect to the login page.\n          navigate(`/data/login`)\n          return null\n        } else {\n          if (location.search && location.search.startsWith(\"?authResponse=\")) {\n            navigate(`/data`)\n          }\n        }\n      }\n      this.setState({checking:false, signedIn})\n    })\n  }\n\n  render() {\n    const { component: Component, location, ...rest } = this.props\n    const {checking, signedIn} = this.state\n    if (checking) {\n      return <>...</>\n    } else {\n      return signedIn ? <Component {...rest} /> : null\n    }\n  }\n}\n\nexport default PrivateRoute\n","import React from 'react'\nimport { navigate } from 'gatsby'\nimport { handleLogin } from './services/blockstack'\nimport { Button, Typography, Link, Container, Divider } from '@material-ui/core'\n\nclass Login extends React.Component {\n  componentDidMount() {\n    const location = this.props\n    if (\n      location &&\n      location.location &&\n      !!location.location.search &&\n      location.location.search.startsWith('?authResponse=')\n    ) {\n      navigate(`/data`)\n    }\n  }\n\n  handleSubmit = () => handleLogin(user => navigate(`/data`))\n  render() {\n    return (\n      <>\n        <Container>\n          <Typography variant=\"h3\">Log in</Typography>\n          <Typography variant=\"body1\">What is Blockstack?</Typography>\n          <Typography variant=\"body2\">\n            Blockstack is a new approach to the internet that let you own your\n            data and maintain your privacy, security and freedom. Find out more\n            at{' '}\n            <Link href=\"https://docs.blockstack.org/\">\n              Blockstack's documentation\n            </Link>\n            .\n          </Typography>\n          <Divider light />\n          <Typography variant=\"body1\">\n            Why not login with Facebook or Google? Or my email?\n          </Typography>\n          <Typography variant=\"body2\">\n            Most social media companies are providing you with a free account so\n            that they can sell your information to the highest bidder.\n            Blockstack is different. With Blockstack, YOU control your identity.\n            Neither Blockstack nor the makers of Blockstack apps can take the id\n            from you or have access to it.\n          </Typography>\n        </Container>\n        <Button variant=\"outlined\" onClick={this.handleSubmit}>\n          log in\n        </Button>\n      </>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react'\nimport { graphql, Link, StaticQuery } from 'gatsby'\nimport { loadMyData, postUserUpdate } from './services/blockstack'\nimport {\n  Typography,\n  ListItem,\n  ListItemText,\n  List,\n  Divider,\n  ListItemSecondaryAction,\n  IconButton,\n} from '@material-ui/core'\nimport {\n  UserComment,\n  OwnerComment,\n  PrivateUserComment,\n  DraftOwnerComment,\n  saveDraftUserComment,\n  saveDraftOwnerComment,\n  saveOwnerComment,\n  saveUserComment,\n  savePrivateUserComment,\n} from '../components/model'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { User } from 'radiks/lib'\nimport UserCommentDialog from '../components/userCommentDialog'\nimport OwnerCommentDialog from '../components/ownerCommentDialog'\n\nclass MyComments extends React.Component {\n  state = {\n    myApps: {},\n    myComments: [],\n    myUpdates: [],\n    myPrivateComments: [],\n    myDraftUpdates: [],\n    loading: true,\n    loadingApps: true,\n    loadingComments: true,\n    loadingUpdates: true,\n    showUpdateDialog: false,\n    showCommentDialog: false,\n    userUpdate: '',\n    currentVisibility: 'private',\n    updating: false,\n  }\n\n  componentDidMount() {\n    User.createWithCurrentUser().then(() => {\n      loadMyData().then(content => {\n        this.setState({\n          myApps: content.myApps,\n          loadingApps: false,\n          loading: this.state.loadingComments && this.state.loadingUpdates,\n        })\n      })\n\n      this.loadComments()\n    })\n  }\n\n  loadComments() {\n    UserComment.fetchOwnList().then(myComments => {\n      this.setState({\n        myComments,\n        loadingComments: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n    PrivateUserComment.fetchOwnList().then(myPrivateComments => {\n      this.setState({\n        myPrivateComments,\n        loadingComments: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n\n    OwnerComment.fetchOwnList().then(myUpdates => {\n      this.setState({\n        myUpdates,\n        loadingUpdates: false,\n        loading: this.state.loadingApps && this.state.loadingComments,\n      })\n    })\n    DraftOwnerComment.fetchOwnList().then(myDraftUpdates => {\n      this.setState({\n        myDraftUpdates,\n        loadingUpdates: false,\n        loading: this.state.loadingApps && this.state.loadingUpdates,\n      })\n    })\n  }\n\n  handleClick(comment) {\n    const visibility = [\n      UserComment.modelName(),\n      OwnerComment.modelName(),\n    ].includes(comment.modelName())\n      ? 'public'\n      : 'private'\n    const asComment = [\n      UserComment.modelName(),\n      PrivateUserComment.modelName(),\n    ].includes(comment.modelName())\n    this.setState({\n      userUpdate: comment.attrs.comment,\n      currentComment: comment,\n      currentVisibility: visibility,\n      showUpdateDialog: !asComment,\n      showCommentDialog: asComment,\n    })\n  }\n\n  handleDeleteClick(comment) {\n    const myComments = this.state.myComments.filter(item => item !== comment)\n    const myPrivateComments = this.state.myPrivateComments.filter(item => item !== comment)\n    const myUpdates = this.state.myUpdates.filter(item => item !== comment)\n    const myDraftUpdates = this.state.myDraftUpdates.filter(item => item !== comment)\n    comment.destroy()\n    this.setState({ myComments, myPrivateComments, myUpdates, myDraftUpdates })\n  }\n\n  renderComments(myComments, data) {\n    const comments = []\n    if (myComments) {\n      myComments.forEach(c => {\n        const apps = data.allApps.edges.filter(\n          e => e.node.website === c.attrs.object\n        )\n        const secondaryText =\n          apps.length === 1 ? <>For {apps[0].node.name}</> : null\n        comments.push(\n          <ListItem button key={c._id} onClick={() => this.handleClick(c)}>\n            <ListItemText\n              primary={<>{c.attrs.comment}</>}\n              secondary={secondaryText}\n            />\n            <ListItemSecondaryAction onClick={() => this.handleDeleteClick(c)}>\n              <IconButton aria-label=\"Delete\">\n                <DeleteIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        )\n      })\n    } else {\n      comments.push(\n        <ListItem>\n          <ListItemText\n            primary={\n              <>\n                <Link to=\"/appco-foss\">Add comments to a few apps</Link>\n              </>\n            }\n          />\n        </ListItem>\n      )\n    }\n    return <List>{comments}</List>\n  }\n\n  handleChangeVisibility = event => {\n    this.setState({ currentVisibility: event.target.value })\n  }\n\n  handleCloseUpdate = () => {\n    this.setState({ showUpdateDialog: false, showCommentDialog: false })\n  }\n\n  postComment = async () => {\n    this.setState({ updating: true })\n    const { userUpdate, currentVisibility, currentComment } = this.state\n    if (currentVisibility === 'public') {\n      await saveUserComment(userUpdate, currentComment)\n    } else {\n      await savePrivateUserComment(userUpdate, currentComment)\n    }\n    await this.loadComments()\n    this.setState({\n      showUpdateDialog: false,\n      showCommentDialog: false,\n      updating: false,\n    })\n  }\n\n  postUpdate = async () => {\n    this.setState({ updating: true })\n    const { userUpdate, currentComment } = this.state\n    await saveOwnerComment(userUpdate, currentComment)\n    await this.loadComments()\n    this.setState({\n      showUpdateDialog: false,\n      showCommentDialog: false,\n      updating: false,\n    })\n  }\n\n  saveDraftUpdate = async () => {\n    const { userUpdate, currentComment } = this.state\n    await saveDraftOwnerComment(userUpdate, currentComment)\n    await this.loadComments()\n  }\n\n  handleChangeText = e => {\n    this.setState({ userUpdate: e.target.value })\n  }\n\n  render() {\n    const {\n      myComments,\n      myUpdates,\n      myPrivateComments,\n      myDraftUpdates,\n      loading,\n      userUpdate,\n      showCommentDialog,\n      showUpdateDialog,\n      currentVisibility,\n      updating,\n    } = this.state\n\n    return (\n      <StaticQuery\n        query={graphql`\n          query MyCommentsQuery {\n            allApps(sort: { fields: [name] }) {\n              edges {\n                node {\n                  ...AppInformation\n                }\n              }\n            }\n          }\n        `}\n        render={data => (\n          <>\n            {loading && <>Loading...</>}\n            {!loading && (\n              <>\n                <Typography variant=\"h3\">Comments</Typography>\n                {this.renderComments(myComments, data)}\n                {this.renderComments(myPrivateComments, data)}\n                <Divider light />\n                {this.renderComments(myUpdates, data)}\n                {this.renderComments(myDraftUpdates, data)}\n              </>\n            )}\n            {UserCommentDialog({\n              userUpdate,\n              showUpdateDialog: showCommentDialog,\n              updating,\n              visibility: currentVisibility,\n              handleCloseUpdate: this.handleCloseUpdate,\n              handleChangeVisibility: this.handleChangeVisibility,\n              handleChangeText: this.handleChangeText,\n              postComment: this.postComment,\n            })}\n            {OwnerCommentDialog({\n              userUpdate,\n              showUpdateDialog: showUpdateDialog,\n              updating,\n              visibility: currentVisibility,\n              handleCloseUpdate: this.handleCloseUpdate,\n              handleChangeVisibility: this.handleChangeVisibility,\n              handleChangeText: this.handleChangeText,\n              saveDraftUpdate: this.saveDraftUpdate,\n              postComment: this.postUpdate,\n            })}\n          </>\n        )}\n      />\n    )\n  }\n}\n\nexport default MyComments\n","import React from 'react'\nimport { Router } from '@reach/router'\nimport Layout from '../components/layout'\nimport NavBar from './components/NavBar'\nimport MyApps from './myapps'\nimport Main from './main'\nimport PrivateRoute from './components/PrivateRoute'\nimport Login from './login'\nimport MyComments from './mycomments';\n\nconst App = () => {\n  return (\n    <Layout>\n      <NavBar />\n      <Router>\n        <PrivateRoute path=\"/data/apps\" component={MyApps} />\n        <PrivateRoute path=\"/data/comments\" component={MyComments} />\n        <PublicRoute path=\"/data\">\n          <PrivateRoute path=\"/\" component={Main} />\n          <Login path=\"/login\" />\n        </PublicRoute>\n      </Router>\n    </Layout>\n  )\n}\nfunction PublicRoute(props) {\n  return <div>{props.children}</div>\n}\n\nexport default App\n","import App from '../app/app'\n\nexport default App\n\n// `src/app` is not \"special\", it is re-exported by `src/pages/app.js`\n// and contains all the clientside dynamic App pages that we dont want to be statically generated.\n// `src/pages/app.js` skips the static generation process because of `gatsby-plugin-create-client-paths`\n// configured in `gatsby-config.js`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React, { Component } from 'react'\nimport { Index } from 'elasticlunr'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport { List, ListItem, Typography, Grid } from '@material-ui/core'\nimport Img from 'gatsby-image'\n// Search component\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: ``,\n      results: [],\n    }\n  }\n\n  render() {\n    return (\n      <StaticQuery\n        query={graphql`\n          query SearchQuery {\n            allApps {\n              edges {\n                node {\n                  appcoid: id__normalized\n                  localFile {\n                    id\n                    childImageSharp {\n                      fixed(width: 24, height: 24) {\n                        ...GatsbyImageSharpFixed\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => {\n          return (\n            <div>\n              <input\n                type=\"text\"\n                value={this.state.query}\n                onChange={this.search}\n                placeholder=\"Search apps by name, ..\"\n              />\n              <List>\n                {this.state.results.map(page => {\n                  const appNodes = data.allApps.edges.filter(\n                    e => e.node.appcoid === page.appcoid\n                  )\n                  const icon =\n                    appNodes.length > 0 &&\n                    appNodes[0].node.localFile &&\n                    appNodes[0].node.localFile.childImageSharp ? (\n                      <Img\n                        fixed={appNodes[0].node.localFile.childImageSharp.fixed}\n                      />\n                    ) : (\n                      <div width=\"24px\" height=\"24px\" />\n                    )\n                  return (\n                    <ListItem key={page.id}>\n                      <Link\n                        to={'/appco/' + page.appcoid}\n                        style={{\n                          color: `white`,\n                          fontWeight: 'bold',\n                          textDecoration: `none`,\n                        }}\n                      >\n                        <Grid container>\n                          <Grid item xs={1}>\n                            {icon}\n                          </Grid>\n                          <Grid item xs={11}>\n                            <Typography>\n                              <b>{page.name}</b>\n                              {': ' + page.category} {' : ' + page.description}\n                            </Typography>\n                          </Grid>\n                        </Grid>\n                      </Link>\n                    </ListItem>\n                  )\n                })}\n              </List>\n            </div>\n          )\n        }}\n      />\n    )\n  }\n  getOrCreateIndex = () =>\n    this.index\n      ? this.index\n      : // Create an elastic lunr index and hydrate with graphql query results\n        Index.load(this.props.searchIndex)\n\n  search = evt => {\n    const query = evt.target.value\n    this.index = this.getOrCreateIndex()\n    this.setState({\n      query,\n      // Query the index with search string to get an [] of IDs\n      results: this.index\n        .search(query, { expand: true })\n        // Map over each ID and return the full document\n        .map(({ ref }) => this.index.documentStore.getDoc(ref)),\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  getUser,\n  redirectToSignIn,\n  checkIsSignedIn,\n} from '../app/services/blockstack'\nimport { Avatar } from '@material-ui/core'\nimport AccountIcon from '@material-ui/icons/AccountBox'\nimport { BlockstackButton } from 'react-blockstack-button'\nimport { navigateTo } from 'gatsby'\n\nclass BlockstackProfile extends Component {\n  state = {\n    isSignedIn: false,\n    isLoading: true,\n  }\n\n  componentDidMount() {\n    checkIsSignedIn().then(signedIn => {\n      this.setState({ isSignedIn: signedIn, userData: getUser() })\n    })\n  }\n\n  signIn() {\n    redirectToSignIn()\n  }\n\n  render() {\n    const { isSignedIn, userData } = this.state\n    if (isSignedIn) {\n      let avatars, avatar\n      if (userData.profile && userData.profile.image) {\n        avatars = userData.profile.image.filter(i => i.name === 'avatar')\n      }\n      if (avatars && avatars.length > 0) {\n        avatar = avatars[0].contentUrl\n      }\n      if (avatar) {\n        return (\n          <Avatar\n            alt={userData.username}\n            src={avatar}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n            onClick={() => navigateTo('data')}\n          />\n        )\n      } else {\n        return (\n          <Avatar\n            onClick={() => navigateTo('data')}\n            style={{ cursor: 'pointer', marginBottom: 1.45 + 'rem' }}\n          >\n            <AccountIcon />\n          </Avatar>\n        )\n      }\n    } else {\n      return <BlockstackButton variant=\"light\" onClick={() => this.signIn()} />\n    }\n  }\n}\n\nexport default BlockstackProfile\n","import { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Search from './search'\nimport BlockstackProfile from './blockstackProfile'\nimport { Container, Typography, Grid } from '@material-ui/core'\n\nconst Header = ({ siteTitle, siteDescription, siteSearchIndex }) => (\n  <Container\n    style={{\n      background: '#3f51b5',\n      paddingTop: 1.45 + `rem`,\n      color: 'white',\n    }}\n  >\n    <Grid container>\n      <Grid item sm={8} xs={12}>\n        <Typography variant=\"h3\">\n          <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n            {siteTitle}\n          </Link>\n        </Typography>\n        <Typography variant=\"body2\">{siteDescription}</Typography>\n        <Search searchIndex={siteSearchIndex.index} />\n      </Grid>\n      <Grid item sm={4} xs={12}>\n        <BlockstackProfile />\n      </Grid>\n    </Grid>\n  </Container>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n  siteDescription: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport './layout.css'\nimport { Typography } from '@material-ui/core'\nimport { getApiServer } from '../app/services/blockstack'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteHeaderQuery {\n        site {\n          siteMetadata {\n            title\n            description\n          }\n        }\n        siteSearchIndex {\n          index\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header\n          siteTitle={data.site.siteMetadata.title}\n          siteDescription={data.site.siteMetadata.description}\n          siteSearchIndex={data.siteSearchIndex}\n        />\n        <div\n          style={{\n            margin: `0 auto`,\n            maxWidth: 960,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n          }}\n        >\n          {children}\n          <footer>\n            <Typography variant=\"body2\" style={{ fontSize: 'small' }}>\n               {new Date().getFullYear()}, Built with\n              {` `}\n              <a href=\"https://www.gatsbyjs.org\">Gatsby</a> and{' '}\n              <a href=\"https://blockstack.org\">Blockstack</a>. You can{' '}\n              <a href=\"https://gitlab.com/friedger/app-center\">\n                view the source here\n              </a>\n              <br />\n              Radiks Server: {getApiServer()}\n            </Typography>\n          </footer>\n        </div>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import { UserSession, AppConfig } from 'blockstack'\nimport { configure, getConfig, User, GroupMembership } from 'radiks'\n\n// helpful for debugging\nconst logAuth = process.env.NODE_ENV === 'development' && true // set to true to turn on logging\nconst clog = (...args) => logAuth && console.log(...args)\n// helpful for debugging\n\nconst appConfig = new AppConfig(\n  ['store_write', 'publish_data'],\n  typeof window !== 'undefined'\n    ? window.location.origin\n    : 'http://localhost:8000',\n  '/data',\n  '/manifest.webmanifest'\n)\nconst uSession = new UserSession({ appConfig })\n\nconfigure({\n  apiServer: process.env.GATSBY_RADIKS_SERVER || 'http://localhost:1260',\n  userSession: uSession,\n})\n\nexport const getApiServer = () => getConfig().apiServer\n\nexport const getPersonalKey = () => JSON.stringify(User.currentUser())\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport const getUser = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n    ? userSession.loadUserData()\n    : {}\n}\n\nexport const isSignedIn = () => {\n  const { userSession } = getConfig()\n  return isBrowser() && userSession.isUserSignedIn()\n}\n\nexport const handleLogin = callback => {\n  const { userSession } = getConfig()\n  console.log('handleLogin')\n  clog('isLoggedIn check', userSession.isUserSignedIn())\n  if (userSession.isUserSignedIn()) {\n    clog('logged in')\n    callback(getUser())\n  } else if (userSession.isSignInPending()) {\n    userSession.handlePendingSignIn().then(userData => {\n      User.createWithCurrentUser().then(() => {\n        console.log('user created')\n        callback(userData)\n      })\n    })\n  } else {\n    userSession.redirectToSignIn()\n  }\n}\n\nexport const redirectToSignIn = () => {\n  const { userSession } = getConfig()\n  userSession.redirectToSignIn()\n}\n\nexport const checkIsSignedIn = () => {\n  if (!isBrowser()) {\n    clog('Not a browser')\n    return Promise.resolve(false)\n  }\n  const { userSession } = getConfig()\n  if (userSession.isSignInPending()) {\n    return userSession\n      .handlePendingSignIn()\n      .then(() => User.createWithCurrentUser().then(() => true))\n  } else if (userSession.isUserSignedIn()) {\n    return Promise.resolve(true)\n  } else {\n    clog('isLoggedIn check - nothing')\n    return Promise.resolve(false)\n  }\n}\n\nexport const logout = callback => {\n  const { userSession } = getConfig()\n  GroupMembership.clearStorage()\n  userSession.signUserOut('/data/login')\n  callback()\n}\n\nexport const encryptContent = message => {\n  const { userSession } = getConfig()\n  console.log('encrypting ' + message)\n  return userSession.encryptContent(message)\n}\n\nexport const loadMyData = () => {\n  const { userSession } = getConfig()\n  return userSession.getFile('content').then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveAppData = (identifier, content) => {\n  const { userSession } = getConfig()\n  return userSession.putFile(`apps/${identifier}`, JSON.stringify(content))\n}\n\nexport const loadAppData = identifier => {\n  const { userSession } = getConfig()\n  return userSession.getFile(`apps/${identifier}`).then(content => {\n    if (content) {\n      return JSON.parse(content)\n    } else {\n      return {}\n    }\n  })\n}\n\nexport const saveMyData = content => {\n  const { userSession } = getConfig()\n  return userSession.putFile('content', JSON.stringify(content))\n}\n\nexport const postUserUpdate = async (visibility, userComment) => {\n  if (visibility === 'public') {\n    await userComment.save()\n  } else if (visibility === 'private') {\n    await userComment.savePrivately()\n  } else if (visibility === 'devs') {\n    throw new Error('not yet implemented')\n  }\n\n  return null\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { Model, getConfig } from 'radiks'\n\nclass ModelExt extends Model {\n  static fetchOwnPrivateList() {\n    const { userSession } = getConfig()\n    const models = new Set()\n    const modelName = this.modelName()\n    return userSession\n      .listFiles(name => {\n        if (name.startsWith(modelName)) {\n          models.add(name.substring(modelName.length + 1))\n        }\n        return true\n      })\n      .then(() => {\n        console.log(models)\n        return models\n      })\n  }\n\n  savePrivately() {\n    return new Promise(async (resolve, reject) => {\n      try {\n        if (this.beforeSave) {\n          await this.beforeSave()\n        }\n        const now = new Date().getTime()\n        this.attrs.createdAt = this.attrs.createdAt || now\n        this.attrs.updatedAt = now\n        await this.sign()\n        const encrypted = await this.encrypted()\n        await this.saveFile(encrypted)\n        resolve(this)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n}\nexport class UserComment extends ModelExt {\n  static className = 'UserComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n  }\n}\n\nexport class OwnerComment extends ModelExt {\n  static className = 'OwnerComment'\n  static schema = {\n    object: {\n      type: String,\n      decrypted: true,\n    },\n    comment: {\n      type: String,\n      decrypted: true,\n    },\n    createdBy: {\n      type: String,\n      decrypted: true,\n    },\n    verified: {\n      type: Boolean,\n      decrypted: true,\n    },\n  }\n  static defaults = {\n    verified: false,\n  }\n}\n\nexport class PrivateUserComment extends ModelExt {\n  static className = 'PrivateUserComment'\n  static schema = {\n    object: String,\n    comment: String,\n    publicRef: String,\n  }\n}\n\nexport class DraftOwnerComment extends ModelExt {\n  static className = 'PrivateOwnerComment'\n  static schema = {\n    object: String,\n    comment: String,\n    publicRef: String,\n  }\n}\n\nexport const saveUserComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === PrivateUserComment.modelName()) {\n    updatedComment = new UserComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const savePrivateUserComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === UserComment.modelName()) {\n    updatedComment = new PrivateUserComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const saveOwnerComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === DraftOwnerComment.modelName()) {\n    updatedComment = new OwnerComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n\nexport const saveDraftOwnerComment = async (commentText, currentComment) => {\n  let updatedComment\n  if (currentComment.modelName() === OwnerComment.modelName()) {\n    updatedComment = new DraftOwnerComment({\n      object: currentComment.attrs.object,\n      comment: commentText,\n    })\n    await currentComment.destroy()\n  } else {\n    currentComment.update({\n      comment: commentText,\n    })\n    updatedComment = currentComment\n  }\n\n  await updatedComment.save()\n}\n","import React from 'react'\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  TextField,\n  DialogActions,\n  Button,\n  CircularProgress,\n} from '@material-ui/core'\n\nconst UserCommentDialog = ({\n  userUpdate,\n  showUpdateDialog,\n  updating,\n  visibility,\n  handleCloseUpdate,\n  handleChangeVisibility,\n  handleChangeText,\n  postComment,\n}) => {\n  return (\n    <Dialog\n      open={showUpdateDialog}\n      onClose={() => handleCloseUpdate()}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Add Comment</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Comments can be shown to either all users publicly or kept privately.\n        </DialogContentText>\n\n        <RadioGroup\n          aria-label=\"Visibility\"\n          name=\"visibility\"\n          value={visibility}\n          onChange={e => handleChangeVisibility(e)}\n        >\n          <FormControlLabel\n            value=\"public\"\n            control={<Radio />}\n            label=\"Visible for all\"\n          />\n\n          <FormControlLabel\n            value=\"private\"\n            control={<Radio />}\n            label=\"Visible only for me\"\n          />\n        </RadioGroup>\n        <TextField\n          margin=\"normal\"\n          id=\"userUpdate\"\n          type=\"text\"\n          fullWidth\n          multiline\n          rows=\"3\"\n          helperText=\"What did you like or dislike?\"\n          variant=\"outlined\"\n          value={userUpdate}\n          onChange={e => handleChangeText(e)}\n        />\n      </DialogContent>\n      <DialogActions>\n        {updating && <CircularProgress size={24} />}\n\n        <Button onClick={() => handleCloseUpdate()} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={() => postComment()} color=\"primary\">\n          Post\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default UserCommentDialog\n","import React from 'react'\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  TextField,\n  DialogActions,\n  Button,\n  CircularProgress,\n} from '@material-ui/core'\n\nconst OwnerCommentDialog = ({\n  userUpdate,\n  showUpdateDialog,\n  updating,\n  visibility,\n  handleCloseUpdate,\n  handleChangeVisibility,\n  handleChangeText,\n  saveDraftUpdate,\n  postComment,\n}) => {\n  return (\n    <Dialog\n      open={showUpdateDialog}\n      onClose={() => handleCloseUpdate()}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Publish Update</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Updates are shown to all users onced published\n        </DialogContentText>\n\n        <RadioGroup\n          aria-label=\"Visibility\"\n          name=\"visibility\"\n          value={visibility}\n          onChange={e => handleChangeVisibility(e)}\n        >\n          <FormControlLabel\n            value=\"public\"\n            control={<Radio />}\n            label=\"Visible for all\"\n          />\n\n          <FormControlLabel\n            value=\"private\"\n            control={<Radio />}\n            label=\"Visible only for me\"\n          />\n        </RadioGroup>\n        <TextField\n          margin=\"normal\"\n          id=\"userUpdate\"\n          type=\"text\"\n          fullWidth\n          multiline\n          rows=\"3\"\n          helperText=\"What is new? (~200 characters)\"\n          variant=\"outlined\"\n          value={userUpdate}\n          onChange={e => handleChangeText(e)}\n        />\n      </DialogContent>\n      <DialogActions>\n        {updating && <CircularProgress size={24} />}\n        <Button onClick={() => handleCloseUpdate()} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={() => saveDraftUpdate()} color=\"secondary\">\n          Save Draft\n        </Button>\n        <Button onClick={() => postComment()} color=\"primary\">\n          Post\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default OwnerCommentDialog\n"],"sourceRoot":""}